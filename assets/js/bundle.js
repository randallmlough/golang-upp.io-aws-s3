!function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var t,n=function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.locale={strings:{},pluralize:function(e){return 1===e?0:1}},Array.isArray(e)?e.forEach(function(e){return n._apply(e)}):this._apply(e)}return t.prototype._apply=function(t){if(t&&t.strings){var n=this.locale;this.locale=e({},n,{strings:e({},n.strings,t.strings)}),this.locale.pluralize=t.pluralize||n.pluralize}},t.prototype.interpolate=function(e,t){var n=String.prototype,o=n.split,r=n.replace,i=/\$/g,s=[e];for(var a in t)if("_"!==a&&t.hasOwnProperty(a)){var l=t[a];"string"==typeof l&&(l=r.call(t[a],i,"$$$$")),s=u(s,new RegExp("%\\{"+a+"\\}","g"),l)}return s;function u(e,t,n){var r=[];return e.forEach(function(e){o.call(e,t).forEach(function(e,t,o){""!==e&&r.push(e),t<o.length-1&&r.push(n)})}),r}},t.prototype.translate=function(e,t){return this.translateArray(e,t).join("")},t.prototype.translateArray=function(e,t){if(t&&void 0!==t.smart_count){var n=this.locale.pluralize(t.smart_count);return this.interpolate(this.locale.strings[e][n],t)}return this.interpolate(this.locale.strings[e],t)},t}(),o=function(){var e={},t=e._fns={};return e.emit=function(e,n,o,r,i,s,a){var l=function(e){var n=t[e]?t[e]:[],o=e.indexOf(":"),r=-1===o?[e]:[e.substring(0,o),e.substring(o+1)],i=Object.keys(t),s=0,a=i.length;for(;s<a;s++){var l=i[s];if("*"===l&&(n=n.concat(t[l])),2===r.length&&r[0]===l){n=n.concat(t[l]);break}}return n}(e);l.length&&function(e,t,n){var o=0,r=t.length;for(;o<r&&t[o];o++)t[o].event=e,t[o].apply(t[o],n)}(e,l,[n,o,r,i,s,a])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,function o(){n.apply(this,arguments),e.off(t,o)})},e.off=function(e,t){var n=[];if(e&&t)for(var o=this._fns[e],r=0,i=o?o.length:0;r<i;r++)o[r]!==t&&n.push(o[r]);n.length?this._fns[e]=n:delete this._fns[e]},e},r=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},i="object"==typeof window?window:self,s=Object.keys(i).length,a=navigator.mimeTypes?navigator.mimeTypes.length:0,l=r((a+navigator.userAgent.length).toString(36)+s.toString(36),4),u=function(){return l},p=window.crypto||window.msCrypto;if(p){var c=Math.pow(2,32)-1;t=function(){return Math.abs(p.getRandomValues(new Uint32Array(1))[0]/c)}}else t=Math.random;var d=t,h=0,f=4,y=36,m=Math.pow(y,f);function g(){return r((d()*m<<0).toString(y),f)}function v(){return h=h<m?h:0,++h-1}function b(){return"c"+(new Date).getTime().toString(y)+r(v().toString(y),f)+u()+(g()+g())}b.slug=function(){var e=(new Date).getTime().toString(36),t=v().toString(36).slice(-4),n=u().slice(0,1)+u().slice(-1),o=g().slice(-2);return e.slice(-2)+t+n+o},b.isCuid=function(e){return"string"==typeof e&&!!e.startsWith("c")},b.isSlug=function(e){if("string"!=typeof e)return!1;var t=e.length;return t>=7&&t<=10},b.fingerprint=u;var w=b,P=function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];t&&(e=-e);if(e<1)return(t?"-":"")+e+" B";var o=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),n.length-1);e=Number(e/Math.pow(1e3,o));var r=n[o];return e>=10||e%1==0?(t?"-":"")+e.toFixed(0)+" "+r:(t?"-":"")+e.toFixed(1)+" "+r};function _(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}_.prototype.match=function(e){var t,n,o=!0,r=this.parts,i=r.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;o&&t<i;t++)"*"!==r[t]&&(o=t<n.length&&r[t]===n[t]);o=o&&n}else o=!1;else if("function"==typeof e.splice)for(o=[],t=e.length;t--;)this.match(e[t])&&(o[o.length]=e[t]);else if("object"==typeof e)for(var s in o={},e)this.match(s)&&(o[s]=e[s]);return o};var S=function(e,t,n){var o=new _(e,n||/[\/\.]/);return void 0!==t?o.match(t):o},T=/[\/\+\.]/,O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state={},this.callbacks=[]}return e.prototype.getState=function(){return this.state},e.prototype.setState=function(e){var t=O({},this.state),n=O({},this.state,e);this.state=n,this._publish(t,n,e)},e.prototype.subscribe=function(e){var t=this;return this.callbacks.push(e),function(){t.callbacks.splice(t.callbacks.indexOf(e),1)}},e.prototype._publish=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callbacks.forEach(function(e){e.apply(void 0,t)})},e}(),F=function(){return new E},U=function(e){var t=/(?:\.([^.]+))?$/.exec(e)[1];return{name:e.replace("."+t,""),extension:t}},C={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf"};function A(e){return 2!==e.length?0+e:e}var k=function(e){if(null==e&&(e="undefined"!=typeof navigator?navigator.userAgent:null),!e)return!0;var t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;var n=t[1].split("."),o=n[0],r=n[1];return o=parseInt(o,10),r=parseInt(r,10),o<15||15===o&&r<15063||(o>18||18===o&&r>=18218)},x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function D(e,t){return e(t={exports:{}},t.exports),t.exports}var R=D(function(e){!function(){function t(){}function n(e,n){var o,r,i,s,a=O;for(s=arguments.length;s-- >2;)T.push(arguments[s]);for(n&&null!=n.children&&(T.length||T.push(n.children),delete n.children);T.length;)if((r=T.pop())&&void 0!==r.pop)for(s=r.length;s--;)T.push(r[s]);else"boolean"==typeof r&&(r=null),(i="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(i=!1)),i&&o?a[a.length-1]+=r:a===O?a=[r]:a.push(r),o=i;var l=new t;return l.nodeName=e,l.children=a,l.attributes=null==n?void 0:n,l.key=null==n?void 0:n.key,void 0!==S.vnode&&S.vnode(l),l}function o(e,t){for(var n in t)e[n]=t[n];return e}function r(e){!e.__d&&(e.__d=!0)&&1==U.push(e)&&(S.debounceRendering||E)(i)}function i(){var e,t=U;for(U=[];e=t.pop();)e.__d&&w(e)}function s(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&a(e,t.nodeName):n||e._componentConstructor===t.nodeName}function a(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function l(e){var t=o({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function u(e){var t=e.parentNode;t&&t.removeChild(e)}function p(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||r)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===F.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var s=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,c,s):e.removeEventListener(t,c,s),(e.__l||(e.__l={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==o?"":o),null!=o&&!1!==o||e.removeAttribute(t);else{var a=r&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function c(e){return this.__l[e.type](S.event&&S.event(e)||e)}function d(){for(var e;e=C.pop();)S.afterMount&&S.afterMount(e),e.componentDidMount&&e.componentDidMount()}function h(e,t,n,o,r,i){A++||(k=null!=r&&void 0!==r.ownerSVGElement,x=null!=e&&!("__preactattr_"in e));var s=f(e,t,n,o,i);return r&&s.parentNode!==r&&r.appendChild(s),--A||(x=!1,i||d()),s}function f(e,t,n,o,r){var i=e,c=k;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),y(e,!0))),i.__preactattr_=!0,i;var d,h,m=t.nodeName;if("function"==typeof m)return function(e,t,n,o){var r=e&&e._component,i=r,s=e,a=r&&e._componentConstructor===t.nodeName,u=a,p=l(t);for(;r&&!u&&(r=r.__u);)u=r.constructor===t.nodeName;r&&u&&(!o||r._component)?(b(r,p,3,n,o),e=r.base):(i&&!a&&(P(i),e=s=null),r=g(t.nodeName,p,n),e&&!r.__b&&(r.__b=e,s=null),b(r,p,1,n,o),e=r.base,s&&e!==s&&(s._component=null,y(s,!1)));return e}(e,t,n,o);if(k="svg"===m||"foreignObject"!==m&&k,m=String(m),(!e||!a(e,m))&&(d=m,(h=k?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d)).__n=d,i=h,e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),y(e,!0)}var v=i.firstChild,w=i.__preactattr_,_=t.children;if(null==w){w=i.__preactattr_={};for(var S=i.attributes,T=S.length;T--;)w[S[T].name]=S[T].value}return!x&&_&&1===_.length&&"string"==typeof _[0]&&null!=v&&void 0!==v.splitText&&null==v.nextSibling?v.nodeValue!=_[0]&&(v.nodeValue=_[0]):(_&&_.length||null!=v)&&function(e,t,n,o,r){var i,a,l,p,c,d=e.childNodes,h=[],m={},g=0,v=0,b=d.length,w=0,P=t?t.length:0;if(0!==b)for(var _=0;_<b;_++){var S=d[_],T=S.__preactattr_,O=P&&T?S._component?S._component.__k:T.key:null;null!=O?(g++,m[O]=S):(T||(void 0!==S.splitText?!r||S.nodeValue.trim():r))&&(h[w++]=S)}if(0!==P)for(var _=0;_<P;_++){p=t[_],c=null;var O=p.key;if(null!=O)g&&void 0!==m[O]&&(c=m[O],m[O]=void 0,g--);else if(!c&&v<w)for(i=v;i<w;i++)if(void 0!==h[i]&&s(a=h[i],p,r)){c=a,h[i]=void 0,i===w-1&&w--,i===v&&v++;break}c=f(c,p,n,o),l=d[_],c&&c!==e&&c!==l&&(null==l?e.appendChild(c):c===l.nextSibling?u(l):e.insertBefore(c,l))}if(g)for(var _ in m)void 0!==m[_]&&y(m[_],!1);for(;v<=w;)void 0!==(c=h[w--])&&y(c,!1)}(i,_,n,o,x||null!=w.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||p(e,o,n[o],n[o]=void 0,k);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||p(e,o,n[o],n[o]=t[o],k)}(i,t.attributes,w),k=c,i}function y(e,t){var n=e._component;n?P(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||u(e),m(e))}function m(e){for(e=e.lastChild;e;){var t=e.previousSibling;y(e,!0),e=t}}function g(e,t,n){var o,r=D[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),_.call(o,t,n)):((o=new _(t,n)).constructor=e,o.render=v),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.__b=r[i].__b,r.splice(i,1);break}return o}function v(e,t,n){return this.constructor(e,n)}function b(e,t,n,o,i){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===S.syncComponentUpdates&&e.base?r(e):w(e,1,i)),e.__r&&e.__r(e))}function w(e,t,n,r){if(!e.__x){var i,s,a,u=e.props,p=e.state,c=e.context,f=e.__p||u,m=e.__s||p,v=e.__c||c,_=e.base,T=e.__b,O=_||T,E=e._component,F=!1;if(_&&(e.props=f,e.state=m,e.context=v,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(u,p,c)?F=!0:e.componentWillUpdate&&e.componentWillUpdate(u,p,c),e.props=u,e.state=p,e.context=c),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!F){i=e.render(u,p,c),e.getChildContext&&(c=o(o({},c),e.getChildContext()));var U,k,x=i&&i.nodeName;if("function"==typeof x){var D=l(i);(s=E)&&s.constructor===x&&D.key==s.__k?b(s,D,1,c,!1):(U=s,e._component=s=g(x,D,c),s.__b=s.__b||T,s.__u=e,b(s,D,0,c,!1),w(s,1,n,!0)),k=s.base}else a=O,(U=E)&&(a=e._component=null),(O||1===t)&&(a&&(a._component=null),k=h(a,i,c,n||!_,O&&O.parentNode,!0));if(O&&k!==O&&s!==E){var R=O.parentNode;R&&k!==R&&(R.replaceChild(k,O),U||(O._component=null,y(O,!1)))}if(U&&P(U),e.base=k,k&&!r){for(var M=e,j=e;j=j.__u;)(M=j).base=k;k._component=M,k._componentConstructor=M.constructor}}if(!_||n?C.unshift(e):F||(e.componentDidUpdate&&e.componentDidUpdate(f,m,v),S.afterUpdate&&S.afterUpdate(e)),null!=e.__h)for(;e.__h.length;)e.__h.pop().call(e);A||r||d()}}function P(e){S.beforeUnmount&&S.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?P(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,u(t),function(e){var t=e.constructor.name;(D[t]||(D[t]=[])).push(e)}(e),m(t)),e.__r&&e.__r(null)}function _(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}var S={},T=[],O=[],E="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,F=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,U=[],C=[],A=0,k=!1,x=!1,D={};o(_.prototype,{setState:function(e,t){var n=this.state;this.__s||(this.__s=o({},n)),o(n,"function"==typeof e?e(n,this.props):e),t&&(this.__h=this.__h||[]).push(t),r(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),w(this,2)},render:function(){}});var R={h:n,createElement:n,cloneElement:function(e,t){return n(e.nodeName,o(o({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)},Component:_,render:function(e,t,n){return h(n,e,{},!1,t,!1)},rerender:i,options:S};e.exports=R}()}),M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=function(e){return e&&"object"===(void 0===e?"undefined":M(e))&&e.nodeType===Node.ELEMENT_NODE},L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var N=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uppy=t,this.opts=n||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}return e.prototype.getPluginState=function(){return this.uppy.getState().plugins[this.id]||{}},e.prototype.setPluginState=function(e){var t,n=this.uppy.getState().plugins;this.uppy.setState({plugins:I({},n,(t={},t[this.id]=I({},n[this.id],e),t))})},e.prototype.update=function(e){void 0!==this.el&&this._updateUI&&this._updateUI(e)},e.prototype.onMount=function(){},e.prototype.mount=function(t,n){var o,r,i,s=this,a=n.id,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?t.querySelector(e):"object"===(void 0===e?"undefined":L(e))&&j(e)?e:void 0}(t);if(l)return this.isTargetDOMEl=!0,this.rerender=function(e){s.uppy.getPlugin(s.id)&&(s.el=R.render(s.render(e),l,s.el))},this._updateUI=(o=this.rerender,r=null,i=null,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i=t,r||(r=Promise.resolve().then(function(){return r=null,o.apply(void 0,i)})),r}),this.uppy.log("Installing "+a+" to a DOM element"),this.opts.replaceTargetContent&&(l.innerHTML=""),this.el=R.render(this.render(this.uppy.getState()),l),this.onMount(),this.el;var u=void 0;if("object"===(void 0===t?"undefined":B(t))&&t instanceof e)u=t;else if("function"==typeof t){var p=t;this.uppy.iteratePlugins(function(e){if(e instanceof p)return u=e,!1})}if(u)return this.uppy.log("Installing "+a+" to "+u.id),this.parent=u,this.el=u.addTarget(n),this.onMount(),this.el;throw this.uppy.log("Not installing "+a),new Error("Invalid target option given to "+a+". Please make sure that the element \n      exists on the page, or that the plugin you are targeting has been installed. Check that the <script> tag initializing Uppy \n      comes at the bottom of the page, before the closing </body> tag (see https://github.com/transloadit/uppy/issues/1042).")},e.prototype.render=function(e){throw new Error("Extend the render method to add your plugin to a DOM element")},e.prototype.addTarget=function(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},e.prototype.unmount=function(){this.isTargetDOMEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype.install=function(){},e.prototype.uninstall=function(){this.unmount()},e}(),z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},H=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var W=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultLocale={strings:{youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files",2:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files",2:"You have to select at least %{smart_count} files"},exceedsSize:"This file exceeds maximum allowed size of",youCanOnlyUploadFileTypes:"You can only upload: %{types}",companionError:"Connection with Companion failed",companionAuthError:"Authorization required",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectXFiles:{0:"Select %{smart_count} file",1:"Select %{smart_count} files",2:"Select %{smart_count} files"},cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}"}};var i={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,debug:!1,restrictions:{maxFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeFileAdded:function(e,t){return e},onBeforeUpload:function(e){return e},store:F()};this.opts=q({},i,t),this.opts.restrictions=q({},i.restrictions,this.opts.restrictions),this.translator=new n([this.defaultLocale,this.opts.locale]),this.locale=this.translator.locale,this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this._calculateProgress=this._calculateProgress.bind(this),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=o(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:k(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:q({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe(function(e,t,n){r.emit("state-update",e,t,n),r.updateAll(t)}),this.opts.debug&&"undefined"!=typeof window&&(window.uppyLog="",window[this.opts.id]=this),this._addListeners()}return e.prototype.on=function(e,t){return this.emitter.on(e,t),this},e.prototype.off=function(e,t){return this.emitter.off(e,t),this},e.prototype.updateAll=function(e){this.iteratePlugins(function(t){t.update(e)})},e.prototype.setState=function(e){this.store.setState(e)},e.prototype.getState=function(){return this.store.getState()},e.prototype.setFileState=function(e,t){var n;if(!this.getState().files[e])throw new Error("Can’t set state for "+e+" (the file could have been removed)");this.setState({files:q({},this.getState().files,(n={},n[e]=q({},this.getState().files[e],t),n))})},e.prototype.resetProgress=function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:!1},t=q({},this.getState().files),n={};Object.keys(t).forEach(function(o){var r=q({},t[o]);r.progress=q({},r.progress,e),n[o]=r}),this.setState({files:n,totalProgress:0}),this.emit("reset-progress")},e.prototype.addPreProcessor=function(e){this.preProcessors.push(e)},e.prototype.removePreProcessor=function(e){var t=this.preProcessors.indexOf(e);-1!==t&&this.preProcessors.splice(t,1)},e.prototype.addPostProcessor=function(e){this.postProcessors.push(e)},e.prototype.removePostProcessor=function(e){var t=this.postProcessors.indexOf(e);-1!==t&&this.postProcessors.splice(t,1)},e.prototype.addUploader=function(e){this.uploaders.push(e)},e.prototype.removeUploader=function(e){var t=this.uploaders.indexOf(e);-1!==t&&this.uploaders.splice(t,1)},e.prototype.setMeta=function(e){var t=q({},this.getState().meta,e),n=q({},this.getState().files);Object.keys(n).forEach(function(t){n[t]=q({},n[t],{meta:q({},n[t].meta,e)})}),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})},e.prototype.setFileMeta=function(e,t){var n=q({},this.getState().files);if(n[e]){var o=q({},n[e].meta,t);n[e]=q({},n[e],{meta:o}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that’s not with us anymore: ",e)},e.prototype.getFile=function(e){return this.getState().files[e]},e.prototype.getFiles=function(){var e=this.getState().files;return Object.keys(e).map(function(t){return e[t]})},e.prototype._checkMinNumberOfFiles=function(e){var t=this.opts.restrictions.minNumberOfFiles;if(Object.keys(e).length<t)throw new Error(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))},e.prototype._checkRestrictions=function(e){var t=this.opts.restrictions,n=t.maxFileSize,o=t.maxNumberOfFiles,r=t.allowedFileTypes;if(o&&Object.keys(this.getState().files).length+1>o)throw new Error(""+this.i18n("youCanOnlyUploadX",{smart_count:o}));if(r&&!r.some(function(t){return t.indexOf("/")>-1?!!e.type&&function(e,t){function n(t){var n=S(t,e,T);return n&&n.length>=2}return t?n(t.split(";")[0]):n}(e.type,t):"."===t[0]&&e.extension.toLowerCase()===t.substr(1).toLowerCase()})){var i=r.join(", ");throw new Error(this.i18n("youCanOnlyUploadFileTypes",{types:i}))}if(n&&null!=e.data.size&&e.data.size>n)throw new Error(this.i18n("exceedsSize")+" "+P(n))},e.prototype.addFile=function(e){var t,n=this,o=this.getState(),r=o.files,i=function(e){var t="object"===(void 0===e?"undefined":z(e))?e:new Error(e);throw n.log(t.message),n.info(t.message,"error",5e3),t};!1===o.allowNewUpload&&i(new Error("Cannot add new files: already uploading."));var s=this.opts.onBeforeFileAdded(e,r);if(!1!==s){if("object"===(void 0===s?"undefined":z(s))&&s){if(s.then)throw new TypeError("onBeforeFileAdded() returned a Promise, but this is no longer supported. It must be synchronous.");e=s}var a=function(e){var t=e.name?U(e.name).extension:null;return t=t?t.toLowerCase():null,e.isRemote?e.type?e.type:C[t]:e.type?e.type:t&&C[t]?C[t]:"application/octet-stream"}(e),l=void 0;l=e.name?e.name:"image"===a.split("/")[0]?a.split("/")[0]+"."+a.split("/")[1]:"noname";var u=U(l).extension,p=e.isRemote||!1,c=function(e){return["uppy",e.name?e.name.toLowerCase().replace(/[^A-Z0-9]/gi,""):"",e.type,e.data.size,e.data.lastModified].filter(function(e){return e}).join("-")}(e),d=e.meta||{};d.name=l,d.type=a;var h=isFinite(e.data.size)?e.data.size:null,f={source:e.source||"",id:c,name:l,extension:u||"",meta:q({},this.getState().meta,d),type:a,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:h,uploadComplete:!1,uploadStarted:!1},size:h,isRemote:p,remote:e.remote||"",preview:e.preview};try{this._checkRestrictions(f)}catch(e){this.emit("restriction-failed",f,e),i(e)}this.setState({files:q({},r,(t={},t[c]=f,t))}),this.emit("file-added",f),this.log("Added file: "+l+", "+c+", mime type: "+a),this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){n.scheduledAutoProceed=null,n.upload().catch(function(e){console.error(e.stack||e.message||e)})},4))}else this.log("Not adding file because onBeforeFileAdded returned false")},e.prototype.removeFile=function(e){var t=this,n=this.getState(),o=n.files,r=n.currentUploads,i=q({},o),s=i[e];delete i[e];var a=q({},r),l=[];Object.keys(a).forEach(function(t){var n=r[t].fileIDs.filter(function(t){return t!==e});0!==n.length?a[t]=q({},r[t],{fileIDs:n}):l.push(t)}),this.setState({currentUploads:a,files:i}),l.forEach(function(e){t._removeUpload(e)}),this._calculateTotalProgress(),this.emit("file-removed",s),this.log("File removed: "+s.id)},e.prototype.pauseResume=function(e){if(this.getState().capabilities.resumableUploads&&!this.getFile(e).uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}},e.prototype.pauseAll=function(){var e=q({},this.getState().files);Object.keys(e).filter(function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted}).forEach(function(t){var n=q({},e[t],{isPaused:!0});e[t]=n}),this.setState({files:e}),this.emit("pause-all")},e.prototype.resumeAll=function(){var e=q({},this.getState().files);Object.keys(e).filter(function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted}).forEach(function(t){var n=q({},e[t],{isPaused:!1,error:null});e[t]=n}),this.setState({files:e}),this.emit("resume-all")},e.prototype.retryAll=function(){var e=q({},this.getState().files),t=Object.keys(e).filter(function(t){return e[t].error});t.forEach(function(t){var n=q({},e[t],{isPaused:!1,error:null});e[t]=n}),this.setState({files:e,error:null}),this.emit("retry-all",t);var n=this._createUpload(t);return this._runUpload(n)},e.prototype.cancelAll=function(){var e=this;this.emit("cancel-all"),Object.keys(this.getState().files).forEach(function(t){e.removeFile(t)}),this.setState({allowNewUpload:!0,totalProgress:0,error:null})},e.prototype.retryUpload=function(e){var t=q({},this.getState().files),n=q({},t[e],{error:null,isPaused:!1});t[e]=n,this.setState({files:t}),this.emit("upload-retry",e);var o=this._createUpload([e]);return this._runUpload(o)},e.prototype.reset=function(){this.cancelAll()},e.prototype._calculateProgress=function(e,t){if(this.getFile(e.id)){var n=isFinite(t.bytesTotal)&&t.bytesTotal>0;this.setFileState(e.id,{progress:q({},this.getFile(e.id).progress,{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:n?Math.floor(t.bytesUploaded/t.bytesTotal*100):0})}),this._calculateTotalProgress()}else this.log("Not setting progress for a file that has been removed: "+e.id)},e.prototype._calculateTotalProgress=function(){var e=this.getFiles().filter(function(e){return e.progress.uploadStarted});if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});var t=e.filter(function(e){return null!=e.progress.bytesTotal}),n=e.filter(function(e){return null==e.progress.bytesTotal});if(0!==t.length){var o=t.reduce(function(e,t){return e+t.progress.bytesTotal},0),r=o/t.length;o+=r*n.length;var i=0;t.forEach(function(e){i+=e.progress.bytesUploaded}),n.forEach(function(e){i+=r*(e.progress.percentage||0)});var s=0===o?0:Math.round(i/o*100);s>100&&(s=100),this.setState({totalProgress:s}),this.emit("progress",s)}else{var a=e.length,l=n.reduce(function(e,t){return e+t.progress.percentage},0),u=Math.round(l/a*100);this.setState({totalProgress:u})}},e.prototype._addListeners=function(){var e=this;this.on("error",function(t){e.setState({error:t.message})}),this.on("upload-error",function(t,n,o){e.setFileState(t.id,{error:n.message,response:o}),e.setState({error:n.message});var r=e.i18n("failedToUpload",{file:t.name});"object"===(void 0===n?"undefined":z(n))&&n.message&&(r={message:r,details:n.message}),e.info(r,"error",5e3)}),this.on("upload",function(){e.setState({error:null})}),this.on("upload-started",function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:t.size}}):e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("upload-progress",this._calculateProgress),this.on("upload-success",function(t,n){var o=e.getFile(t.id).progress;e.setFileState(t.id,{progress:q({},o,{uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),e._calculateTotalProgress()}),this.on("preprocess-progress",function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:q({},e.getFile(t.id).progress,{preprocess:n})}):e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("preprocess-complete",function(t){if(e.getFile(t.id)){var n=q({},e.getState().files);n[t.id]=q({},n[t.id],{progress:q({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("postprocess-progress",function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:q({},e.getState().files[t.id].progress,{postprocess:n})}):e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("postprocess-complete",function(t){if(e.getFile(t.id)){var n=q({},e.getState().files);n[t.id]=q({},n[t.id],{progress:q({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("restored",function(){e._calculateTotalProgress()}),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",function(){return e.updateOnlineStatus()}),window.addEventListener("offline",function(){return e.updateOnlineStatus()}),setTimeout(function(){return e.updateOnlineStatus()},3e3))},e.prototype.updateOnlineStatus=function(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},e.prototype.getID=function(){return this.opts.id},e.prototype.use=function(e,t){if("function"!=typeof e){var n="Expected a plugin class, but got "+(null===e?"null":void 0===e?"undefined":z(e))+". Please verify that the plugin was imported and spelled correctly.";throw new TypeError(n)}var o=new e(this,t),r=o.id;if(this.plugins[o.type]=this.plugins[o.type]||[],!r)throw new Error("Your plugin must have an id");if(!o.type)throw new Error("Your plugin must have a type");var i=this.getPlugin(r);if(i){var s="Already found a plugin named '"+i.id+"'. Tried to use: '"+r+"'.\nUppy plugins must have unique 'id' options. See https://uppy.io/docs/plugins/#id.";throw new Error(s)}return this.plugins[o.type].push(o),o.install(),this},e.prototype.getPlugin=function(e){var t=null;return this.iteratePlugins(function(n){if(n.id===e)return t=n,!1}),t},e.prototype.iteratePlugins=function(e){var t=this;Object.keys(this.plugins).forEach(function(n){t.plugins[n].forEach(e)})},e.prototype.removePlugin=function(e){this.log("Removing plugin "+e.id),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=this.plugins[e.type].slice(),n=t.indexOf(e);-1!==n&&(t.splice(n,1),this.plugins[e.type]=t);var o=this.getState();delete o.plugins[e.id],this.setState(o)},e.prototype.close=function(){var e=this;this.log("Closing Uppy instance "+this.opts.id+": removing all files and uninstalling plugins"),this.reset(),this._storeUnsubscribe(),this.iteratePlugins(function(t){e.removePlugin(t)})},e.prototype.info=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o="object"===(void 0===e?"undefined":z(e));this.setState({info:{isHidden:!1,type:t,message:o?e.message:e,details:o?e.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==n?setTimeout(this.hideInfo,n):void 0},e.prototype.hideInfo=function(){var e=q({},this.getState().info,{isHidden:!0});this.setState({info:e}),this.emit("info-hidden")},e.prototype.log=function(e,t){if(this.opts.debug){var n,o="[Uppy] ["+(A((n=new Date).getHours().toString())+":"+A(n.getMinutes().toString())+":"+A(n.getSeconds().toString()))+"]";"error"!==t?"warning"!==t?console.log(o,e):console.warn(o,e):console.error(o,e)}},e.prototype.run=function(){return this.log("Calling run() is no longer necessary.","warning"),this},e.prototype.restore=function(e){return this.log('Core: attempting to restore upload "'+e+'"'),this.getState().currentUploads[e]?this._runUpload(e):(this._removeUpload(e),Promise.reject(new Error("Nonexistent upload")))},e.prototype._createUpload=function(e){var t,n=this.getState(),o=n.allowNewUpload,r=n.currentUploads;if(!o)throw new Error("Cannot create a new upload: already uploading.");var i=w();return this.emit("upload",{id:i,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploads,currentUploads:q({},r,(t={},t[i]={fileIDs:e,step:0,result:{}},t))}),i},e.prototype._getUpload=function(e){return this.getState().currentUploads[e]},e.prototype.addResultData=function(e,t){var n;if(this._getUpload(e)){var o=this.getState().currentUploads,r=q({},o[e],{result:q({},o[e].result,t)});this.setState({currentUploads:q({},o,(n={},n[e]=r,n))})}else this.log("Not setting result for an upload that has been removed: "+e)},e.prototype._removeUpload=function(e){var t=q({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})},e.prototype._runUpload=function(e){var t=this,n=this.getState().currentUploads[e].step,o=[].concat(this.preProcessors,this.uploaders,this.postProcessors),r=Promise.resolve();return o.forEach(function(o,i){i<n||(r=r.then(function(){var n,r=t.getState().currentUploads,s=q({},r[e],{step:i});return t.setState({currentUploads:q({},r,(n={},n[e]=s,n))}),o(s.fileIDs,e)}).then(function(e){return null}))}),r.catch(function(n){t.emit("error",n,e),t._removeUpload(e)}),r.then(function(){var n=t.getState().currentUploads[e];if(n){var o=n.fileIDs.map(function(e){return t.getFile(e)}),r=o.filter(function(e){return!e.error}),i=o.filter(function(e){return e.error});t.addResultData(e,{successful:r,failed:i,uploadID:e})}}).then(function(){var n=t.getState().currentUploads;if(n[e]){var o=n[e].result;return t.emit("complete",o),t._removeUpload(e),o}}).then(function(n){return null==n&&t.log("Not setting result for an upload that has been removed: "+e),n})},e.prototype.upload=function(){var e=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var t=this.getState().files,n=this.opts.onBeforeUpload(t);if(!1===n)return Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false"));if(n&&"object"===(void 0===n?"undefined":z(n))){if(n.then)throw new TypeError("onBeforeUpload() returned a Promise, but this is no longer supported. It must be synchronous.");t=n}return Promise.resolve().then(function(){return e._checkMinNumberOfFiles(t)}).then(function(){var n=e.getState().currentUploads,o=Object.keys(n).reduce(function(e,t){return e.concat(n[t].fileIDs)},[]),r=[];Object.keys(t).forEach(function(t){var n=e.getFile(t);n.progress.uploadStarted||-1!==o.indexOf(t)||r.push(n.id)});var i=e._createUpload(r);return e._runUpload(i)}).catch(function(t){var n="object"===(void 0===t?"undefined":z(t))?t.message:t,o="object"===(void 0===t?"undefined":z(t))?t.details:null;return e.log(n+" "+o),e.info({message:n,details:o},"error",4e3),Promise.reject("object"===(void 0===t?"undefined":z(t))?t:new Error(t))})},H(e,[{key:"state",get:function(){return this.getState()}}]),e}(),V=function(e){return new W(e)},G=N;V.Uppy=W,V.Plugin=G;var X=R.h,K=2*Math.PI*15,$=function(e){return X("svg",{width:"70",height:"70",viewBox:"0 0 36 36",class:"UppyIcon UppyIcon-progressCircle"},X("g",{class:"progress-group"},X("circle",{class:"bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),X("circle",{class:"progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)","stroke-width":"2",fill:"none","stroke-dasharray":K,"stroke-dashoffset":K-K/100*e.progress})),e.hidePauseResumeCancelButtons?null:X("g",null,X("polygon",{class:"play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}),X("g",{class:"pause",transform:"translate(14.5, 13)"},X("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),X("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})),X("polygon",{class:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})),X("polygon",{class:"check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))},Q=R.h;var Y=function(){return Q("svg",{"aria-hidden":"true",width:"30",height:"30",viewBox:"0 0 30 30"},Q("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))},J=function(){return Q("svg",{"aria-hidden":"true",class:"UppyIcon retry",width:"28",height:"31",viewBox:"0 0 16 19"},Q("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),Q("path",{d:"M7.9 3H10v2H7.9z"}),Q("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),Q("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))},Z=function(){return Q("svg",{"aria-hidden":"true",fill:"#607d8b",width:"27",height:"25",viewBox:"0 0 27 25"},Q("path",{d:"M5.586 9.288a.313.313 0 0 0 .282.176h4.84v3.922c0 1.514 1.25 2.24 2.792 2.24 1.54 0 2.79-.726 2.79-2.24V9.464h4.84c.122 0 .23-.068.284-.176a.304.304 0 0 0-.046-.324L13.735.106a.316.316 0 0 0-.472 0l-7.63 8.857a.302.302 0 0 0-.047.325z"}),Q("path",{d:"M24.3 5.093c-.218-.76-.54-1.187-1.208-1.187h-4.856l1.018 1.18h3.948l2.043 11.038h-7.193v2.728H9.114v-2.725h-7.36l2.66-11.04h3.33l1.018-1.18H3.907c-.668 0-1.06.46-1.21 1.186L0 16.456v7.062C0 24.338.676 25 1.51 25h23.98c.833 0 1.51-.663 1.51-1.482v-7.062L24.3 5.093z"}))},ee=function(){return Q("svg",{"aria-hidden":"true",class:"UppyIcon",width:"25",height:"25",viewBox:"0 0 25 25"},Q("g",{fill:"#A7AFB7","fill-rule":"nonzero"},Q("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),Q("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))},te=function(){return Q("svg",{"aria-hidden":"true",class:"UppyIcon",width:"25",height:"25",viewBox:"0 0 25 25"},Q("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69","fill-rule":"nonzero"}))},ne=function(){return Q("svg",{"aria-hidden":"true",class:"UppyIcon",width:"25",height:"25",viewBox:"0 0 25 25"},Q("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF","fill-rule":"nonzero"}))},oe=function(){return Q("svg",{"aria-hidden":"true",class:"UppyIcon",width:"25",height:"25",viewBox:"0 0 25 25"},Q("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67","fill-rule":"nonzero"}))},re=function(){return Q("svg",{"aria-hidden":"true",class:"UppyIcon",width:"25",height:"25",viewBox:"0 0 25 25"},Q("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A","fill-rule":"nonzero"}))},ie=function(e){var t={color:"#838999",icon:ee()};if(!e)return t;var n=e.split("/")[0],o=e.split("/")[1];return"text"===n?{color:"#5a5e69",icon:te()}:"audio"===n?{color:"#068dbb",icon:ne()}:"video"===n?{color:"#19af67",icon:oe()}:"application"===n&&"pdf"===o?{color:"#e25149",icon:re()}:"image"===n?{color:"#f2f2f2",icon:""}:t},se=R.h,ae=function(e){var t=e.file;if(t.preview)return se("img",{class:"uppy-DashboardItem-previewImg",alt:t.name,src:t.preview});var n=ie(t.type),o=n.color,r=n.icon;return se("div",{class:"uppy-DashboardItem-previewIconWrap"},se("span",{class:"uppy-DashboardItem-previewIcon",style:{color:o}},r),se("svg",{class:"uppy-DashboardItem-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},se("rect",{fill:"#FFF",width:"58",height:"76",rx:"3","fill-rule":"evenodd"})))},le=D(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],o=0;o<arguments.length;o++){var r=arguments[o];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var s=n.apply(null,r);s&&e.push(s)}else if("object"===i)for(var a in r)t.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}),ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},pe=J,ce=R.h;function de(e){if(!e.hideRetryButton||!e.error)return e.isUploaded||e.hidePauseResumeCancelButtons&&!e.error?ce("div",{class:"uppy-DashboardItem-progressIndicator"},ce($,{progress:e.file.progress.percentage,fileID:e.file.id,hidePauseResumeCancelButtons:e.hidePauseResumeCancelButtons,individualCancellation:e.individualCancellation})):ce("button",{class:"uppy-DashboardItem-progressIndicator",type:"button","aria-label":e.progressIndicatorTitle,title:e.progressIndicatorTitle,onclick:e.onPauseResumeCancelRetry},e.error?e.hideRetryButton?null:pe():ce($,{progress:e.file.progress.percentage,fileID:e.file.id,individualCancellation:e.individualCancellation,hidePauseResumeCancelButtons:e.hidePauseResumeCancelButtons}))}var he=function(e){var t,n,o=e.file,r=e.acquirers,i=o.progress.preprocess||o.progress.postprocess,s=o.progress.uploadComplete&&!i&&!o.error,a=o.progress.uploadStarted||i,l=o.progress.uploadStarted&&!o.progress.uploadComplete||i,u=o.isPaused||!1,p=o.error||!1,c=U(o.meta.name).name,d=e.isWide?(n=30,(t=c).length>n?t.substr(0,n/2)+"..."+t.substr(t.length-n/4,t.length):t):c;var h=le("uppy-DashboardItem",{"is-inprogress":l},{"is-processing":i},{"is-complete":s},{"is-paused":u},{"is-error":p},{"is-resumable":e.resumableUploads},{"is-noIndividualCancellation":!e.individualCancellation}),f=e.individualCancellation?!s:!l&&!s;return ce("li",{class:h,id:"uppy_"+o.id,title:o.meta.name},ce("div",{class:"uppy-DashboardItem-preview"},ce("div",{class:"uppy-DashboardItem-previewInnerWrap",style:{backgroundColor:ie(o.type).color}},e.showLinkToFileUploadResult&&o.uploadURL?ce("a",{class:"uppy-DashboardItem-previewLink",href:o.uploadURL,rel:"noreferrer noopener",target:"_blank"}):null,ce(ae,{file:o})),ce("div",{class:"uppy-DashboardItem-progress"},ce(de,ue({progressIndicatorTitle:function(e){return s?e.i18n("uploadComplete"):p?e.i18n("retryUpload"):e.resumableUploads?o.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}(e),onPauseResumeCancelRetry:function(t){s||(!p||e.hideRetryButton?e.hidePauseResumeCancelButtons||(e.resumableUploads?e.pauseUpload(o.id):e.individualCancellation&&e.cancelUpload(o.id)):e.retryUpload(o.id))},file:o,error:p},e)))),ce("div",{class:"uppy-DashboardItem-info"},ce("div",{class:"uppy-DashboardItem-name",title:c},e.showLinkToFileUploadResult&&o.uploadURL?ce("a",{href:o.uploadURL,rel:"noreferrer noopener",target:"_blank"},o.extension?d+"."+o.extension:d):o.extension?d+"."+o.extension:d),ce("div",{class:"uppy-DashboardItem-status"},o.data.size?ce("div",{class:"uppy-DashboardItem-statusSize"},P(o.data.size)):null,o.source&&o.source!==e.id&&ce("div",{class:"uppy-DashboardItem-sourceIcon"},r.map(function(t){if(t.id===o.source)return ce("span",{title:e.i18n("fileSource",{name:t.name})},t.icon())})),!a&&e.metaFields&&e.metaFields.length?ce("button",{class:"uppy-u-reset uppy-DashboardItem-edit",type:"button","aria-label":e.i18n("editFile"),title:e.i18n("editFile"),onclick:function(t){return e.toggleFileCard(o.id)}},e.i18n("edit")):null,e.showLinkToFileUploadResult&&o.uploadURL?ce("button",{class:"uppy-u-reset uppy-DashboardItem-copyLink",type:"button","aria-label":e.i18n("copyLink"),title:e.i18n("copyLink"),onclick:function(){var t,n;(t=o.uploadURL,n=e.i18n("copyLinkToClipboardFallback"),n=n||"Copy the URL below",new Promise(function(e){var o=document.createElement("textarea");o.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),o.value=t,document.body.appendChild(o),o.select();var r=function(){document.body.removeChild(o),window.prompt(n,t),e()};try{return document.execCommand("copy")?(document.body.removeChild(o),e()):r()}catch(e){return document.body.removeChild(o),r()}})).then(function(){e.log("Link copied to clipboard."),e.info(e.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log)}},e.i18n("link")):"")),ce("div",{class:"uppy-DashboardItem-action"},f&&ce("button",{class:"uppy-DashboardItem-remove",type:"button","aria-label":e.i18n("removeFile"),title:e.i18n("removeFile"),onclick:function(){return e.removeFile(o.id)}},ce("svg",{"aria-hidden":"true",class:"UppyIcon",width:"18",height:"18",viewBox:"0 0 18 18"},ce("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),ce("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))))},fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ye=R.h,me=function(e){var t=0===e.totalFileCount,n=le("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":t});return ye("ul",{class:n},Object.keys(e.files).map(function(t){return ye(he,fe({},e,{acquirers:e.acquirers,file:e.files[t]}))}))};var ge=R.h,ve=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(e){this.input.click()},t.prototype.render=function(){var e=this,t=ge("button",{type:"button",class:"uppy-Dashboard-browse",onclick:this.handleClick},this.props.i18n("browse"));return ge("div",{class:"uppy-Dashboard-dropFilesTitle"},0===this.props.acquirers.length?this.props.i18nArray("dropPaste",{browse:t}):this.props.i18nArray("dropPasteImport",{browse:t}),ge("input",{class:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabindex:-1,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,onchange:this.props.handleInputChange,accept:this.props.allowedFileTypes,value:"",ref:function(t){e.input=t}}))},t}(R.Component);var be=Z,we=R.h,Pe=R.Component,_e=function(e){return we("a",{tabindex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",class:"uppy-Dashboard-poweredBy"},e.i18n("poweredBy")," ",we("svg",{"aria-hidden":"true",class:"UppyIcon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},we("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z","fill-rule":"evenodd"})),we("span",{class:"uppy-Dashboard-poweredByUppy"},"Uppy"))},Se=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(e){this.input.click()},t.prototype.render=function(){var e=this,t=0!==this.props.acquirers.length;return we("div",{class:"uppy-DashboardAddFiles"},t?we("div",{class:"uppy-DashboardTabs"},we(ve,{acquirers:this.props.acquirers,handleInputChange:this.props.handleInputChange,i18n:this.props.i18n,i18nArray:this.props.i18nArray,allowedFileTypes:this.props.allowedFileTypes,maxNumberOfFiles:this.props.maxNumberOfFiles}),we("div",{class:"uppy-DashboardTabs-list",role:"tablist"},we("div",{class:"uppy-DashboardTab",role:"presentation"},we("button",{type:"button",class:"uppy-DashboardTab-btn",role:"tab",tabindex:0,onclick:this.handleClick},be(),we("div",{class:"uppy-DashboardTab-name"},this.props.i18n("myDevice"))),we("input",{class:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabindex:-1,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,accept:this.props.allowedFileTypes,onchange:this.props.handleInputChange,value:"",ref:function(t){e.input=t}})),this.props.acquirers.map(function(t){return we("div",{class:"uppy-DashboardTab",role:"presentation"},we("button",{class:"uppy-DashboardTab-btn",type:"button",role:"tab",tabindex:0,"aria-controls":"uppy-DashboardContent-panel--"+t.id,"aria-selected":e.props.activePickerPanel.id===t.id,onclick:function(){return e.props.showPanel(t.id)}},t.icon(),we("div",{class:"uppy-DashboardTab-name"},t.name)))}))):we("div",{class:"uppy-DashboardTabs"},we(ve,{acquirers:this.props.acquirers,handleInputChange:this.props.handleInputChange,i18n:this.props.i18n,i18nArray:this.props.i18nArray,allowedFileTypes:this.props.allowedFileTypes,maxNumberOfFiles:this.props.maxNumberOfFiles})),we("div",{class:"uppy-DashboardAddFiles-info"},this.props.note&&we("div",{class:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&_e(this.props)))},t}(Pe),Te=R.h,Oe=function(e){return Te("div",{class:"uppy-Dashboard-AddFilesPanel","data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},Te("div",{class:"uppy-DashboardContent-bar"},Te("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},e.i18n("addingMoreFiles")),Te("button",{class:"uppy-DashboardContent-back",type:"button",onclick:function(t){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),Te(Se,e))};var Ee=function(e){var t=e.target.tagName;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()},Fe=R.h;var Ue=function(e){return Fe("div",{class:"uppy-DashboardContent-panel",role:"tabpanel","data-uppy-panelType":"PickerPanel",id:e.activePickerPanel&&"uppy-DashboardContent-panel--"+e.activePickerPanel.id,onDragOver:Ee,onDragLeave:Ee,onDrop:Ee,onPaste:Ee},Fe("div",{class:"uppy-DashboardContent-bar"},Fe("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},e.i18n("importFrom",{name:e.activePickerPanel.name})),Fe("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.hideAllPanels},e.i18n("done"))),Fe("div",{class:"uppy-DashboardContent-panelBody"},e.getPlugin(e.activePickerPanel.id).render(e.state)))},Ce=R.h,Ae={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function ke(e){switch(function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e)return Ae.STATE_ERROR;if(t)return Ae.STATE_COMPLETE;if(n)return Ae.STATE_PAUSED;for(var r=Ae.STATE_WAITING,i=Object.keys(o),s=0;s<i.length;s++){var a=o[i[s]].progress;if(a.uploadStarted&&!a.uploadComplete)return Ae.STATE_UPLOADING;a.preprocess&&r!==Ae.STATE_UPLOADING&&(r=Ae.STATE_PREPROCESSING),a.postprocess&&r!==Ae.STATE_UPLOADING&&r!==Ae.STATE_PREPROCESSING&&(r=Ae.STATE_POSTPROCESSING)}return r}(e.isAllErrored,e.isAllComplete,e.isAllPaused,e.files)){case"uploading":return e.i18n("uploadingXFiles",{smart_count:e.inProgressNotPausedFiles.length});case"preprocessing":case"postprocessing":return e.i18n("processingXFiles",{smart_count:e.processingFiles.length});case"paused":return e.i18n("uploadPaused");case"waiting":return e.i18n("xFilesSelected",{smart_count:e.newFiles.length});case"complete":return e.i18n("uploadComplete")}}var xe=function(e){var t=e.allowNewUpload;return t&&e.maxNumberOfFiles&&(t=e.totalFileCount<e.maxNumberOfFiles),Ce("div",{class:"uppy-DashboardContent-bar"},Ce("div",null,e.isAllComplete?null:Ce("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.cancelAll},e.i18n("cancel"))),Ce("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},Ce(ke,e)),t&&Ce("button",{class:"uppy-DashboardContent-addMore",type:"button","aria-label":e.i18n("addMoreFiles"),title:e.i18n("addMoreFiles"),onclick:function(){return e.toggleAddFilesPanel(!0)}},Ce("svg",{class:"UppyIcon",width:"15",height:"15",viewBox:"0 0 15 15"},Ce("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"}))))};var De=R.h,Re=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.meta={},o.tempStoreMetaOrSubmit=o.tempStoreMetaOrSubmit.bind(o),o.renderMetaFields=o.renderMetaFields.bind(o),o.handleSave=o.handleSave.bind(o),o.handleCancel=o.handleCancel.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){e.firstInput&&e.firstInput.focus({preventScroll:!0})},150)},t.prototype.tempStoreMetaOrSubmit=function(e){var t=this.props.files[this.props.fileCardFor];if(13===e.keyCode)return e.stopPropagation(),e.preventDefault(),void this.props.saveFileCard(this.meta,t.id);var n=e.target.value,o=e.target.dataset.name;this.meta[o]=n},t.prototype.renderMetaFields=function(e){var t=this;return(this.props.metaFields||[]).map(function(n,o){return De("fieldset",{class:"uppy-DashboardFileCard-fieldset"},De("label",{class:"uppy-DashboardFileCard-label"},n.name),De("input",{class:"uppy-u-reset uppy-c-textInput uppy-DashboardFileCard-input",type:"text","data-name":n.id,value:e.meta[n.id],placeholder:n.placeholder,onkeyup:t.tempStoreMetaOrSubmit,onkeydown:t.tempStoreMetaOrSubmit,onkeypress:t.tempStoreMetaOrSubmit,ref:function(e){0===o&&(t.firstInput=e)}}))})},t.prototype.handleSave=function(e){var t=this.props.fileCardFor;this.props.saveFileCard(this.meta,t)},t.prototype.handleCancel=function(e){this.meta={},this.props.toggleFileCard()},t.prototype.render=function(){var e=this.props.files[this.props.fileCardFor];return De("div",{class:"uppy-DashboardFileCard","data-uppy-panelType":"FileCard",onDragOver:Ee,onDragLeave:Ee,onDrop:Ee,onPaste:Ee},De("div",{class:"uppy-DashboardContent-bar"},De("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},this.props.i18nArray("editing",{file:De("span",{class:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),De("button",{class:"uppy-DashboardContent-back",type:"button",title:this.props.i18n("finishEditingFile"),onclick:this.handleSave},this.props.i18n("done"))),De("div",{class:"uppy-DashboardFileCard-inner"},De("div",{class:"uppy-DashboardFileCard-preview",style:{backgroundColor:ie(e.type).color}},De(ae,{file:e})),De("div",{class:"uppy-DashboardFileCard-info"},this.renderMetaFields(e)),De("div",{class:"uppy-Dashboard-actions"},De("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-actionsBtn",type:"button",onclick:this.handleSave},this.props.i18n("saveChanges")),De("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-actionsBtn",type:"button",onclick:this.handleCancel},this.props.i18n("cancel")))))},t}(R.Component),Me=D(function(e,t){e.exports=function(e){function t(e){return e.attributes&&e.attributes.key}function n(e){return e.base}function o(e){return e&&e.filter(function(e){return null!==e})}function r(e,t){for(var n=e.length;n--;)if(t(e[n]))return!0;return!1}function i(e,n){return r(e,function(e){return t(e)===n})}function s(e,n){return i(e,t(n))}function a(e,n,o){return r(e,function(e){return t(e)===n&&e.props[o]})}function l(e,n,o){return a(e,t(n),o)}var u=" ",p=/[\n\t\r]+/g,c=function(e){return(u+e+u).replace(p,u)};function d(e,t){var n;e.classList?(n=e.classList).add.apply(n,t.split(" ")):e.className+=" "+t}function h(e,t){if(t=t.trim(),e.classList){var n;(n=e.classList).remove.apply(n,t.split(" "))}else{var o=e.className.trim(),r=c(o);for(t=u+t+u;r.indexOf(t)>=0;)r=r.replace(t,u);e.className=r.trim()}}var f={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},y=[];"undefined"!=typeof window&&function(){var e=document.createElement("div").style;for(var t in"AnimationEvent"in window||delete f.animationend.animation,"TransitionEvent"in window||delete f.transitionend.transition,f){var n=f[t];for(var o in n)if(o in e){y.push(n[o]);break}}}();var m=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},g=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},b=function(e){function t(){var o,r;m(this,t);for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=v(this,e.call.apply(e,[this].concat(s))),o=r,r.flushClassNameQueue=function(){n(r)&&d(n(r),r.classNameQueue.join(" ")),r.classNameQueue.length=0,r.timeout=null},v(r,o)}return g(t,e),t.prototype.transition=function(e,t,o){var r=this,i=n(this),s=this.props.name[e]||this.props.name+"-"+e,a=this.props.name[e+"Active"]||s+"-active",l=null;this.endListener&&this.endListener(),this.endListener=function(e){e&&e.target!==i||(clearTimeout(l),h(i,s),h(i,a),function(e,t){y.length&&y.forEach(function(n){e.removeEventListener(n,t,!1)})}(i,r.endListener),r.endListener=null,t&&t())},o?(l=setTimeout(this.endListener,o),this.transitionTimeouts.push(l)):function(e,t){if(!y.length)return window.setTimeout(t,0);y.forEach(function(n){e.addEventListener(n,t,!1)})}(i,this.endListener),d(i,s),this.queueClass(a)},t.prototype.queueClass=function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,17))},t.prototype.stop=function(){this.timeout&&(clearTimeout(this.timeout),this.classNameQueue.length=0,this.timeout=null),this.endListener&&this.endListener()},t.prototype.componentWillMount=function(){this.classNameQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)})},t.prototype.componentWillEnter=function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},t.prototype.componentWillLeave=function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},t.prototype.render=function(){return(e=this.props.children)&&e[0];var e},t}(e.Component),w=function(n){function r(o){m(this,r);var i=v(this,n.call(this));return i.renderChild=function(n){var o=i.props,r=o.transitionName,s=o.transitionEnter,a=o.transitionLeave,l=o.transitionEnterTimeout,u=o.transitionLeaveTimeout,p=t(n);return e.h(b,{key:p,ref:function(e){(i.refs[p]=e)||(n=null)},name:r,enter:s,leave:a,enterTimeout:l,leaveTimeout:u},n)},i.refs={},i.state={children:(o.children||[]).slice()},i}return g(r,n),r.prototype.shouldComponentUpdate=function(e,t){var n=t.children;return n!==this.state.children},r.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},r.prototype.componentWillReceiveProps=function(n){var r,a,u,p,c=this,d=n.children,h=n.exclusive,f=n.showProp,y=o(d||[]).slice(),m=o(h?this.props.children:this.state.children),g=(r=y,a=[],u={},p=[],m.forEach(function(e){var n=t(e);i(r,n)?p.length&&(u[n]=p,p=[]):p.push(e)}),r.forEach(function(e){var n=t(e);u.hasOwnProperty(n)&&(a=a.concat(u[n])),a.push(e)}),a.concat(p));f&&(g=g.map(function(t){var n;return!t.props[f]&&l(m,t,f)&&(t=e.cloneElement(t,((n={})[f]=!0,n))),t})),h&&g.forEach(function(e){return c.stop(t(e))}),this.setState({children:g}),this.forceUpdate(),y.forEach(function(e){var t=e.key,n=m&&s(m,e);if(f){if(n){var o=l(m,e,f),r=e.props[f];o||!r||c.currentlyTransitioningKeys[t]||c.keysToEnter.push(t)}}else n||c.currentlyTransitioningKeys[t]||c.keysToEnter.push(t)}),m.forEach(function(e){var t=e.key,n=y&&s(y,e);if(f){if(n){var o=l(y,e,f),r=e.props[f];o||!r||c.currentlyTransitioningKeys[t]||c.keysToLeave.push(t)}}else n||c.currentlyTransitioningKeys[t]||c.keysToLeave.push(t)})},r.prototype.performEnter=function(e){var t=this;this.currentlyTransitioningKeys[e]=!0;var n=this.refs[e];n.componentWillEnter?n.componentWillEnter(function(){return t._handleDoneEntering(e)}):this._handleDoneEntering(e)},r.prototype._handleDoneEntering=function(e){delete this.currentlyTransitioningKeys[e];var t=o(this.props.children),n=this.props.showProp;!t||!n&&!i(t,e)||n&&!a(t,e,n)?this.performLeave(e):this.setState({children:t})},r.prototype.stop=function(e){delete this.currentlyTransitioningKeys[e];var t=this.refs[e];t&&t.stop()},r.prototype.performLeave=function(e){var t=this;this.currentlyTransitioningKeys[e]=!0;var n=this.refs[e];n&&n.componentWillLeave?n.componentWillLeave(function(){return t._handleDoneLeaving(e)}):this._handleDoneLeaving(e)},r.prototype._handleDoneLeaving=function(e){delete this.currentlyTransitioningKeys[e];var t=this.props.showProp,n=o(this.props.children);t&&n&&a(n,e,t)?this.performEnter(e):!t&&n&&i(n,e)?this.performEnter(e):this.setState({children:n})},r.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter,n=this.keysToLeave;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t)}),this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t)})},r.prototype.render=function(t,n){var r=t.component,i=(t.transitionName,t.transitionEnter,t.transitionLeave,t.transitionEnterTimeout,t.transitionLeaveTimeout,t.children,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["component","transitionName","transitionEnter","transitionLeave","transitionEnterTimeout","transitionLeaveTimeout","children"])),s=n.children;return e.h(r,i,o(s).map(this.renderChild))},r}(e.Component);return w.defaultProps={component:"span",transitionEnter:!0,transitionLeave:!0},w}(R)}),je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Le=R.h;function Be(e){return Le(Me,{transitionName:"uppy-transition-slideDownUp",transitionEnterTimeout:250,transitionLeaveTimeout:250},e.children)}var Ie="Expected a function",Ne=NaN,ze="[object Symbol]",qe=/^\s+|\s+$/g,He=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,Ve=/^0o[0-7]+$/i,Ge=parseInt,Xe="object"==typeof x&&x&&x.Object===Object&&x,Ke="object"==typeof self&&self&&self.Object===Object&&self,$e=Xe||Ke||Function("return this")(),Qe=Object.prototype.toString,Ye=Math.max,Je=Math.min,Ze=function(){return $e.Date.now()};function et(e,t,n){var o,r,i,s,a,l,u=0,p=!1,c=!1,d=!0;if("function"!=typeof e)throw new TypeError(Ie);function h(t){var n=o,i=r;return o=r=void 0,u=t,s=e.apply(i,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||c&&e-u>=i}function y(){var e=Ze();if(f(e))return m(e);a=setTimeout(y,function(e){var n=t-(e-l);return c?Je(n,i-(e-u)):n}(e))}function m(e){return a=void 0,d&&o?h(e):(o=r=void 0,s)}function g(){var e=Ze(),n=f(e);if(o=arguments,r=this,l=e,n){if(void 0===a)return function(e){return u=e,a=setTimeout(y,t),p?h(e):s}(l);if(c)return a=setTimeout(y,t),h(l)}return void 0===a&&(a=setTimeout(y,t)),s}return t=nt(t)||0,tt(n)&&(p=!!n.leading,i=(c="maxWait"in n)?Ye(nt(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==a&&clearTimeout(a),u=0,o=l=r=a=void 0},g.flush=function(){return void 0===a?s:m(Ze())},g}function tt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function nt(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&Qe.call(e)==ze}(e))return Ne;if(tt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(qe,"");var n=We.test(e);return n||Ve.test(e)?Ge(e.slice(2),n?2:8):He.test(e)?Ne:+e}var ot=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(Ie);return tt(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),et(e,t,{leading:o,maxWait:t,trailing:r})},rt="error",it="waiting",st="preprocessing",at="uploading",lt="postprocessing",ut="complete",pt=function(e){var t,n=(t=e,{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)}),o=n.hours?n.hours+"h ":"",r=n.hours?("0"+n.minutes).substr(-2):n.minutes,i=r?r+"m":"",s=r?("0"+n.seconds).substr(-2):n.seconds;return""+o+i+(n.hours?"":r?" "+s+"s":s+"s")},ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},dt=R.h;var ht=function(e){var t=e=e||{},n=t.newFiles,o=t.allowNewUpload,r=t.isUploadInProgress,i=t.isAllPaused,s=t.resumableUploads,a=t.error,l=t.hideUploadButton,u=t.hidePauseResumeButton,p=t.hideCancelButton,c=t.hideRetryButton,d=e.uploadState,h=e.totalProgress,f=void 0,y=void 0;if(d===st||d===lt){var m=function(e){var t=[];Object.keys(e).forEach(function(n){var o=e[n].progress;o.preprocess&&t.push(o.preprocess),o.postprocess&&t.push(o.postprocess)});var n=t[0];return{mode:n.mode,message:n.message,value:t.filter(function(e){return"determinate"===e.mode}).reduce(function(e,t,n,o){return e+t.value/o.length},0)}}(e.files);"determinate"===(f=m.mode)&&(h=100*m.value),y=bt(m)}else d===ut?y=Tt(e):d===at?(e.supportsUploadProgress||(f="indeterminate",h=null),y=St(e)):d===rt&&(h=void 0,y=Ot(e));var g="number"==typeof h?h:100,v=d===it&&e.hideUploadButton||d===it&&!e.newFiles>0||d===ut&&e.hideAfterFinish,b=!a&&n&&!r&&!i&&o&&!l,w=!p&&d!==it&&d!==ut,P=s&&!u&&d!==it&&d!==st&&d!==lt&&d!==ut,_=a&&!c,S="uppy-StatusBar-progress\n                           "+(f?"is-"+f:""),T=le({"uppy-Root":e.isTargetDOMEl},"uppy-StatusBar","is-"+d);return dt("div",{class:T,"aria-hidden":v},dt("div",{class:S,style:{width:g+"%"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":h}),y,dt("div",{class:"uppy-StatusBar-actions"},b?dt(ft,ct({},e,{uploadState:d})):null,_?dt(yt,e):null,P?dt(gt,e):null,w?dt(mt,e):null))},ft=function(e){var t=le("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":e.uploadState===it});return dt("button",{type:"button",class:t,"aria-label":e.i18n("uploadXFiles",{smart_count:e.newFiles}),onclick:e.startUpload},e.newFiles&&e.isUploadStarted?e.i18n("uploadXNewFiles",{smart_count:e.newFiles}):e.i18n("uploadXFiles",{smart_count:e.newFiles}))},yt=function(e){return dt("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e.i18n("retryUpload"),onclick:e.retryAll},dt("svg",{"aria-hidden":"true",class:"UppyIcon",width:"8",height:"10",viewBox:"0 0 8 10"},dt("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e.i18n("retry"))},mt=function(e){return dt("button",{type:"button",class:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e.i18n("cancel"),"aria-label":e.i18n("cancel"),onclick:e.cancelAll},dt("svg",{"aria-hidden":"true",class:"UppyIcon",width:"16",height:"16",viewBox:"0 0 16 16"},dt("g",{fill:"none","fill-rule":"evenodd"},dt("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),dt("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))},gt=function(e){var t=e.isAllPaused,n=e.i18n,o=n(t?"resume":"pause");return dt("button",{title:o,"aria-label":o,class:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onclick:function(){return function(e){if(!e.isAllComplete)return e.resumableUploads?e.isAllPaused?e.resumeAll():e.pauseAll():e.cancelAll()}(e)}},dt("svg",{"aria-hidden":"true",class:"UppyIcon",width:"16",height:"16",viewBox:"0 0 16 16"},dt("g",{fill:"none","fill-rule":"evenodd"},dt("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),dt("path",t?{fill:"#FFF",d:"M6 4.25L11.5 8 6 11.75z"}:{d:"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z",fill:"#FFF"}))))},vt=function(e){return dt("svg",{class:"uppy-StatusBar-spinner",width:"14",height:"14"},dt("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0","fill-rule":"evenodd"}))},bt=function(e){var t=Math.round(100*e.value);return dt("div",{class:"uppy-StatusBar-content"},dt(vt,e),"determinate"===e.mode?t+"% · ":"",e.message)},wt=function(e){return dt("div",{class:"uppy-StatusBar-statusSecondary"},e.i18n("filesUploadedOfTotal",{complete:e.complete,smart_count:e.numUploads}))},Pt=function(e){var t=le("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn");return dt("div",{class:"uppy-StatusBar-statusSecondary"},dt("div",{class:"uppy-StatusBar-statusSecondaryHint"},e.i18n("xMoreFilesAdded",{smart_count:e.newFiles})),dt("button",{type:"button",class:t,"aria-label":e.i18n("uploadXFiles",{smart_count:e.newFiles}),onclick:e.startUpload},e.i18n("upload")))},_t=ot(function(e){return dt("div",{class:"uppy-StatusBar-statusSecondary"},e.numUploads>1&&e.i18n("filesUploadedOfTotal",{complete:e.complete,smart_count:e.numUploads})+" · ",e.i18n("dataUploadedOfTotal",{complete:P(e.totalUploadedSize),total:P(e.totalSize)})+" · ",e.i18n("xTimeLeft",{time:pt(e.totalETA)}))},500,{leading:!0,trailing:!0}),St=function(e){if(!e.isUploadStarted||e.isAllComplete)return null;var t=e.isAllPaused?e.i18n("paused"):e.i18n("uploading"),n=e.newFiles&&e.isUploadStarted;return dt("div",{class:"uppy-StatusBar-content","aria-label":t,title:t},e.isAllPaused?null:dt(vt,e),dt("div",{class:"uppy-StatusBar-status"},dt("div",{class:"uppy-StatusBar-statusPrimary"},e.supportsUploadProgress?t+": "+e.totalProgress+"%":t),e.isAllPaused||n||!e.showProgressDetails?null:e.supportsUploadProgress?dt(_t,e):dt(wt,e),n?dt(Pt,e):null))},Tt=function(e){e.totalProgress;var t=e.i18n;return dt("div",{class:"uppy-StatusBar-content",role:"status",title:t("complete")},dt("div",{class:"uppy-StatusBar-status"},dt("div",{class:"uppy-StatusBar-statusPrimary"},dt("svg",{"aria-hidden":"true",class:"uppy-StatusBar-statusIndicator UppyIcon",width:"15",height:"11",viewBox:"0 0 15 11"},dt("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))},Ot=function(e){var t=e.error,n=(e.retryAll,e.hideRetryButton,e.i18n);return dt("div",{class:"uppy-StatusBar-content",role:"alert",title:n("uploadFailed")},dt("div",{class:"uppy-StatusBar-status"},dt("div",{class:"uppy-StatusBar-statusPrimary"},dt("svg",{"aria-hidden":"true",class:"uppy-StatusBar-statusIndicator UppyIcon",width:"11",height:"11",viewBox:"0 0 11 11"},dt("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),n("uploadFailed"))),dt("span",{class:"uppy-StatusBar-details","aria-label":t,"data-microtip-position":"top-right","data-microtip-size":"medium",role:"tooltip"},"?"))},Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var Ft=function(e){function t(o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o,r));i.id=i.opts.id||"StatusBar",i.title="StatusBar",i.type="progressindicator",i.defaultLocale={strings:{uploading:"Uploading",upload:"Upload",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded",2:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files",2:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files",2:"Upload +%{smart_count} files"},xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added",2:"%{smart_count} more files added"}}};return i.opts=Et({},{target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0},r),i.translator=new n([i.defaultLocale,i.uppy.locale,i.opts.locale]),i.i18n=i.translator.translate.bind(i.translator),i.startUpload=i.startUpload.bind(i),i.render=i.render.bind(i),i.install=i.install.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getTotalSpeed=function(e){var t=0;return e.forEach(function(e){t+=function(e){if(!e.bytesUploaded)return 0;var t=new Date-e.uploadStarted;return e.bytesUploaded/(t/1e3)}(e.progress)}),t},t.prototype.getTotalETA=function(e){var t=this.getTotalSpeed(e);if(0===t)return 0;var n=e.reduce(function(e,t){return e+((n=t.progress).bytesTotal-n.bytesUploaded);var n},0);return Math.round(n/t*10)/10},t.prototype.startUpload=function(){var e=this;return this.uppy.upload().catch(function(t){e.uppy.log(t.stack||t.message||t)})},t.prototype.getUploadingState=function(e,t,n){if(e)return rt;if(t)return ut;for(var o=it,r=Object.keys(n),i=0;i<r.length;i++){var s=n[r[i]].progress;if(s.uploadStarted&&!s.uploadComplete)return at;s.preprocess&&o!==at&&(o=st),s.postprocess&&o!==at&&o!==st&&(o=lt)}return o},t.prototype.render=function(e){var t=e.capabilities,n=e.files,o=e.allowNewUpload,r=e.totalProgress,i=e.error,s=Object.keys(n).filter(function(e){return!n[e].progress.uploadStarted&&!n[e].progress.preprocess&&!n[e].progress.postprocess}),a=Object.keys(n).filter(function(e){return n[e].progress.uploadStarted}),l=a.filter(function(e){return n[e].isPaused}),u=Object.keys(n).filter(function(e){return n[e].progress.uploadComplete}),p=Object.keys(n).filter(function(e){return n[e].error}),c=Object.keys(n).filter(function(e){return!n[e].progress.uploadComplete&&n[e].progress.uploadStarted}),d=c.filter(function(e){return!n[e].isPaused}),h=Object.keys(n).filter(function(e){return n[e].progress.uploadStarted||n[e].progress.preprocess||n[e].progress.postprocess}),f=Object.keys(n).filter(function(e){return n[e].progress.preprocess||n[e].progress.postprocess}),y=d.map(function(e){return n[e]}),m=this.getTotalETA(y),g=0,v=0;y.forEach(function(e){g+=e.progress.bytesTotal||0,v+=e.progress.bytesUploaded||0});var b=a.length>0,w=100===r&&u.length===Object.keys(n).length&&0===f.length,P=b&&p.length===a.length,_=0!==c.length&&l.length===c.length,S=c.length>0,T=t.resumableUploads||!1,O=!1!==t.uploadProgress;return ht({error:i,uploadState:this.getUploadingState(P,w,e.files||{}),allowNewUpload:o,totalProgress:r,totalSize:g,totalUploadedSize:v,isAllComplete:w,isAllPaused:_,isAllErrored:P,isUploadStarted:b,isUploadInProgress:S,complete:u.length,newFiles:s.length,numUploads:h.length,totalETA:m,files:n,i18n:this.i18n,pauseAll:this.uppy.pauseAll,resumeAll:this.uppy.resumeAll,retryAll:this.uppy.retryAll,cancelAll:this.uppy.cancelAll,startUpload:this.startUpload,resumableUploads:T,supportsUploadProgress:O,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},t.prototype.install=function(){var e=this.opts.target;e&&this.mount(e,this)},t.prototype.uninstall=function(){this.unmount()},t}(V.Plugin),Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var Ct=V.Plugin,At=R.h,kt=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));r.type="progressindicator",r.id=r.opts.id||"Informer",r.title="Informer";return r.opts=Ut({},{typeColors:{info:{text:"#fff",bg:"#000"},warning:{text:"#fff",bg:"#F6A623"},error:{text:"#fff",bg:"#D32F2F"},success:{text:"#fff",bg:"#1BB240"}}},o),r.render=r.render.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(e){var t=e.info,n=t.isHidden,o=t.message,r=t.details;return At("div",{class:"uppy uppy-Informer","aria-hidden":n},At("p",{role:"alert"},o," ",r&&At("span",{"aria-label":r,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip"},"?")))},t.prototype.install=function(){var e=this.opts.target;e&&this.mount(e,this)},t}(Ct),xt=function(e){return 0===e.indexOf("blob:")},Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var Rt=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));r.type="thumbnail",r.id=r.opts.id||"ThumbnailGenerator",r.title="Thumbnail Generator",r.queue=[],r.queueProcessing=!1,r.defaultThumbnailDimension=200;return r.opts=Dt({},{thumbnailWidth:null,thumbnailHeight:null},o),r.onFileAdded=r.onFileAdded.bind(r),r.onFileRemoved=r.onFileRemoved.bind(r),r.onRestored=r.onRestored.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.createThumbnail=function(e,t,n){var o=this,r=URL.createObjectURL(e.data);return new Promise(function(e,t){var n=new Image;n.src=r,n.addEventListener("load",function(){URL.revokeObjectURL(r),e(n)}),n.addEventListener("error",function(e){URL.revokeObjectURL(r),t(e.error||new Error("Could not create thumbnail"))})}).then(function(e){var r=o.getProportionalDimensions(e,t,n),i=o.resizeImage(e,r.width,r.height);return o.canvasToBlob(i,"image/png")}).then(function(e){return URL.createObjectURL(e)})},t.prototype.getProportionalDimensions=function(e,t,n){var o=e.width/e.height;return null!=t?{width:t,height:Math.round(t/o)}:null!=n?{width:Math.round(n*o),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}},t.prototype.protect=function(e){var t=e.width/e.height,n=Math.floor(Math.sqrt(5e6*t)),o=Math.floor(5e6/Math.sqrt(5e6*t));if(n>4096&&(n=4096,o=Math.round(n/t)),o>4096&&(o=4096,n=Math.round(t*o)),e.width>n){var r=document.createElement("canvas");r.width=n,r.height=o,r.getContext("2d").drawImage(e,0,0,n,o),e=r}return e},t.prototype.resizeImage=function(e,t,n){e=this.protect(e);var o=Math.ceil(Math.log(e.width/t)*Math.LOG2E);o<1&&(o=1);for(var r=t*Math.pow(2,o-1),i=n*Math.pow(2,o-1);o--;){var s=document.createElement("canvas");s.width=r,s.height=i,s.getContext("2d").drawImage(e,0,0,r,i),e=s,r=Math.round(r/2),i=Math.round(i/2)}return e},t.prototype.canvasToBlob=function(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){if(18===e.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(function(o){e.toBlob(o,t,n)}).then(function(e){if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e}):Promise.resolve().then(function(){return function(e,t,n){var o=e.split(",")[1],r=t.mimeType||e.split(",")[0].split(":")[1].split(";")[0];null==r&&(r="plain/text");for(var i=atob(o),s=[],a=0;a<i.length;a++)s.push(i.charCodeAt(a));return n?new File([new Uint8Array(s)],t.name||"",{type:r}):new Blob([new Uint8Array(s)],{type:r})}(e.toDataURL(t,n),{})})},t.prototype.setPreviewURL=function(e,t){this.uppy.setFileState(e,{preview:t})},t.prototype.addToQueue=function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()},t.prototype.processQueue=function(){var e=this;if(this.queueProcessing=!0,this.queue.length>0){var t=this.queue.shift();return this.requestThumbnail(t).catch(function(e){}).then(function(){return e.processQueue()})}this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated")},t.prototype.requestThumbnail=function(e){var t=this;return function(e){if(!e)return!1;var t=e.split("/")[1];return!!/^(jpe?g|gif|png|svg|svg\+xml|bmp)$/.test(t)}(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(n){t.setPreviewURL(e.id,n),t.uppy.log("[ThumbnailGenerator] Generated thumbnail for "+e.id),t.uppy.emit("thumbnail:generated",t.uppy.getFile(e.id),n)}).catch(function(n){t.uppy.log("[ThumbnailGenerator] Failed thumbnail for "+e.id+":","warning"),t.uppy.log(n,"warning"),t.uppy.emit("thumbnail:error",t.uppy.getFile(e.id),n)}):Promise.resolve()},t.prototype.onFileAdded=function(e){e.preview||this.addToQueue(e)},t.prototype.onFileRemoved=function(e){var t=this.queue.indexOf(e);-1!==t&&this.queue.splice(t,1),e.preview&&xt(e.preview)&&URL.revokeObjectURL(e.preview)},t.prototype.onRestored=function(){var e=this,t=this.uppy.getState().files;Object.keys(t).forEach(function(t){var n=e.uppy.getFile(t);n.isRestored&&(n.preview&&!xt(n.preview)||e.addToQueue(n))})},t.prototype.install=function(){this.uppy.on("file-added",this.onFileAdded),this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("restored",this.onRestored)},t.prototype.uninstall=function(){this.uppy.off("file-added",this.onFileAdded),this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("restored",this.onRestored)},t}(V.Plugin),Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt=function(e){if("string"==typeof e){var t=[].slice.call(document.querySelectorAll(e));return t.length>0?t:null}if("object"===(void 0===e?"undefined":Mt(e))&&j(e))return[e]},Lt=function(e){return Array.prototype.slice.call(e||[],0)};function Bt(e,t,n){!function e(t,n,o){t.readEntries(function(r){var i=[].concat(n,r);r.length?setTimeout(function(){e(t,i,o)},0):o(i)},function(){return o(n)})}(n.createReader(),[],function(n){var o=n.map(function(e){return It(t,e)});Promise.all(o).then(function(){return e()})})}function It(e,t){return new Promise(function(n){t.isFile?function(e,t,n){n.file(function(o){o.relativePath=n.fullPath,t.push(o),e()},function(){return e()})}(n,e,t):t.isDirectory&&Bt(n,e,t)})}var Nt=function(e){return e.items[0]&&"webkitGetAsEntry"in e.items[0]?function(e){var t=[],n=[];return Lt(e.items).forEach(function(e){var o=e.webkitGetAsEntry();o&&n.push(It(t,o))}),Promise.all(n).then(function(){return t})}(e):function(e){var t=Lt(e.files);return Promise.resolve(t)}(e)},zt=D(function(e,t){e.exports=function(){var e=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,o){return e[0]===t&&(n=o,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var r=o[n];e.call(t,r[1],r[0])}},t}()}(),t="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,n=void 0!==x&&x.Math===Math?x:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},r=2,i=20,s=["top","right","bottom","left","width","height","size","weight"],a="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,s=0;function a(){n&&(n=!1,e()),i&&u()}function l(){o(a)}function u(){var e=Date.now();if(n){if(e-s<r)return;i=!0}else n=!0,i=!1,setTimeout(l,t);s=e}return u}(this.refresh.bind(this),i)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){t&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),a?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){t&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,o=s.some(function(e){return!!~n.indexOf(e)});o&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},p=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||n},c=g(0,0,0,0);function d(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){var o=e["border-"+n+"-width"];return t+d(o)},0)}function f(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return c;var o=p(e).getComputedStyle(e),r=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var r=o[n],i=e["padding-"+r];t[r]=d(i)}return t}(o),i=r.left+r.right,s=r.top+r.bottom,a=d(o.width),l=d(o.height);if("border-box"===o.boxSizing&&(Math.round(a+i)!==t&&(a-=h(o,"left","right")+i),Math.round(l+s)!==n&&(l-=h(o,"top","bottom")+s)),!function(e){return e===p(e).document.documentElement}(e)){var u=Math.round(a+i)-t,f=Math.round(l+s)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(f)&&(l-=f)}return g(r.left,r.top,a,l)}var y="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof p(e).SVGGraphicsElement}:function(e){return e instanceof p(e).SVGElement&&"function"==typeof e.getBBox};function m(e){return t?y(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):f(e):c}function g(e,t,n,o){return{x:e,y:t,width:n,height:o}}var v=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,o,r,i,s,a,l,p=(o=(n=t).x,r=n.y,i=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),u(l,{x:o,y:r,width:i,height:s,top:r,right:o+i,bottom:s+r,left:o}),l);u(this,{target:e,contentRect:p})},w=function(){function t(t,n,o){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=o}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new b(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),P="undefined"!=typeof WeakMap?new WeakMap:new e,_=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),o=new w(t,n,this);P.set(this,o)};return["observe","unobserve","disconnect"].forEach(function(e){_.prototype[e]=function(){var t;return(t=P.get(this))[e].apply(t,arguments)}}),void 0!==n.ResizeObserver?n.ResizeObserver:_}()}),qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var Ht=V.Plugin,Wt=zt.default||zt,Vt=Y,Gt=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function Xt(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}var Kt=function(e){function t(o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o,r));i.id=i.opts.id||"Dashboard",i.title="Dashboard",i.type="orchestrator",i.modalName="uppy-Dashboard-"+w(),i.defaultLocale={strings:{closeModal:"Close Modal",importFrom:"Import from %{name}",addingMoreFiles:"Adding more files",addMoreFiles:"Add more files",dashboardWindowTitle:"File Uploader Window (Press escape to close)",dashboardTitle:"File Uploader",copyLinkToClipboardSuccess:"Link copied to clipboard",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",link:"Link",fileSource:"File source: %{name}",done:"Done",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",edit:"Edit",finishEditingFile:"Finish editing file",saveChanges:"Save changes",cancel:"Cancel",myDevice:"My Device",dropPasteImport:"Drop files here, paste, %{browse} or import from",dropPaste:"Drop files here, paste or %{browse}",dropHint:"Drop your files here",browse:"browse",emptyFolderAdded:"No files were added from empty folder",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected",2:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files",2:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files",2:"Processing %{smart_count} files"},folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}",2:"Added %{smart_count} files from %{folder}"},poweredBy:"Powered by"}};var s={target:"body",metaFields:[],trigger:"#uppy-select-files",inline:!1,width:750,height:550,thumbnailWidth:280,defaultPickerIcon:Vt,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeCancelButtons:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return i.closeModal()},showSelectedFiles:!0,browserBackButtonClose:!1};return i.opts=qt({},s,r),i.translator=new n([i.defaultLocale,i.uppy.locale,i.opts.locale]),i.i18n=i.translator.translate.bind(i.translator),i.i18nArray=i.translator.translateArray.bind(i.translator),i.openModal=i.openModal.bind(i),i.closeModal=i.closeModal.bind(i),i.requestCloseModal=i.requestCloseModal.bind(i),i.isModalOpen=i.isModalOpen.bind(i),i.addTarget=i.addTarget.bind(i),i.removeTarget=i.removeTarget.bind(i),i.hideAllPanels=i.hideAllPanels.bind(i),i.showPanel=i.showPanel.bind(i),i.getFocusableNodes=i.getFocusableNodes.bind(i),i.setFocusToFirstNode=i.setFocusToFirstNode.bind(i),i.handlePopState=i.handlePopState.bind(i),i.maintainFocus=i.maintainFocus.bind(i),i.initEvents=i.initEvents.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i.handleFileAdded=i.handleFileAdded.bind(i),i.handleComplete=i.handleComplete.bind(i),i.handleClickOutside=i.handleClickOutside.bind(i),i.toggleFileCard=i.toggleFileCard.bind(i),i.toggleAddFilesPanel=i.toggleAddFilesPanel.bind(i),i.handlePaste=i.handlePaste.bind(i),i.handleInputChange=i.handleInputChange.bind(i),i.render=i.render.bind(i),i.install=i.install.bind(i),i.handleDragOver=i.handleDragOver.bind(i),i.handleDragLeave=i.handleDragLeave.bind(i),i.handleDrop=i.handleDrop.bind(i),i.makeDashboardInsidesVisibleAnywayTimeout=null,i.removeDragOverClassTimeout=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.removeTarget=function(e){var t=this.getPluginState().targets.filter(function(t){return t.id!==e.id});this.setPluginState({targets:t})},t.prototype.addTarget=function(e){var t=e.id||e.constructor.name,n=e.title||t,o=e.type;if("acquirer"===o||"progressindicator"===o||"presenter"===o){var r={id:t,name:n,type:o},i=this.getPluginState().targets.slice();return i.push(r),this.setPluginState({targets:i}),this.el}this.uppy.log("Dashboard: Modal can only be used by plugins of types: acquirer, progressindicator, presenter")},t.prototype.hideAllPanels=function(){this.setPluginState({activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null})},t.prototype.showPanel=function(e){var t=this.getPluginState().targets.filter(function(t){return"acquirer"===t.type&&t.id===e})[0];this.setPluginState({activePickerPanel:t,activeOverlayType:"PickerPanel"})},t.prototype.requestCloseModal=function(){return this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal()},t.prototype.getFocusableNodes=function(){var e=this.getPluginState().activeOverlayType;if(e){var t=this.el.querySelector('[data-uppy-panelType="'+e+'"]').querySelectorAll(Gt);return Object.keys(t).map(function(e){return t[e]})}var n=this.el.querySelectorAll(Gt);return Object.keys(n).map(function(e){return n[e]})},t.prototype.setFocusToFirstNode=function(){var e=this.getFocusableNodes();e.length&&e[0].focus()},t.prototype.updateBrowserHistory=function(){var e;history.state&&history.state[this.modalName]||history.pushState(qt({},history.state,((e={})[this.modalName]=!0,e)),"");window.addEventListener("popstate",this.handlePopState,!1)},t.prototype.handlePopState=function(e){!this.isModalOpen()||e.state&&e.state[this.modalName]||this.closeModal({manualClose:!1}),!this.isModalOpen()&&e.state&&e.state[this.modalName]&&history.go(-1)},t.prototype.setFocusToBrowse=function(){var e=this.el.querySelector(".uppy-Dashboard-browse");e&&e.focus()},t.prototype.maintainFocus=function(e){var t=this.getFocusableNodes(),n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault())},t.prototype.openModal=function(){var e=this,t=Xt(),n=t.promise,o=t.resolve;if(this.savedScrollPosition=window.scrollY,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){this.el.addEventListener("animationend",function t(){e.setPluginState({isHidden:!1}),e.el.removeEventListener("animationend",t,!1),o()},!1)}else this.setPluginState({isHidden:!1}),o();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDown),this.setFocusToBrowse(),n},t.prototype.closeModal=function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).manualClose,n=void 0===t||t,o=this.getPluginState(),r=o.isHidden,i=o.isClosing;if(!r&&!i){var s=Xt(),a=s.promise,l=s.resolve;if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});this.el.addEventListener("animationend",function t(){e.setPluginState({isHidden:!0,isClosing:!1}),e.el.removeEventListener("animationend",t,!1),l()},!1)}else this.setPluginState({isHidden:!0}),l();return document.removeEventListener("keydown",this.handleKeyDown),this.savedActiveElement.focus(),n&&this.opts.browserBackButtonClose&&history.state&&history.state[this.modalName]&&history.go(-1),a}},t.prototype.isModalOpen=function(){return!this.getPluginState().isHidden||!1},t.prototype.handleKeyDown=function(e){27===e.keyCode&&this.requestCloseModal(e),9===e.keyCode&&this.maintainFocus(e)},t.prototype.handleClickOutside=function(){this.opts.closeModalOnClickOutside&&this.requestCloseModal()},t.prototype.handlePaste=function(e){var t=this;this.uppy.iteratePlugins(function(t){"acquirer"===t.type&&t.handleRootPaste&&t.handleRootPaste(e)}),Lt(e.clipboardData.files).forEach(function(e){t.uppy.log("[Dashboard] File pasted"),t.addFile(e)})},t.prototype.handleInputChange=function(e){var t=this;e.preventDefault(),Lt(e.target.files).forEach(function(e){return t.addFile(e)})},t.prototype.addFile=function(e){try{this.uppy.addFile({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}})}catch(e){}},t.prototype.startListeningToResize=function(){var e=this;this.resizeObserver=new Wt(function(t,n){var o=t,r=Array.isArray(o),i=0;for(o=r?o:o[Symbol.iterator]();;){var s;if(r){if(i>=o.length)break;s=o[i++]}else{if((i=o.next()).done)break;s=i.value}var a=s.contentRect,l=a.width,u=a.height;e.uppy.log("[Dashboard] resized: "+l+" / "+u),e.setPluginState({containerWidth:l,containerHeight:u,areInsidesReadyToBeVisible:!0})}}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){e.getPluginState().areInsidesReadyToBeVisible||(e.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout"),e.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},t.prototype.stopListeningToResize=function(){this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},t.prototype.handleDragOver=function(e){e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0})},t.prototype.handleDragLeave=function(e){var t=this;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(function(){t.setPluginState({isDraggingOver:!1})},50)},t.prototype.handleDrop=function(e,t){var n=this;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),e.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(function(t){"acquirer"===t.type&&t.handleRootDrop&&t.handleRootDrop(e)}),Nt(e.dataTransfer).then(function(e){e.length>0&&(n.uppy.log("[Dashboard] Files were dropped"),e.forEach(function(e){return n.addFile(e)}))})},t.prototype.initEvents=function(){var e=this,t=jt(this.opts.trigger);!this.opts.inline&&t&&t.forEach(function(t){return t.addEventListener("click",e.openModal)}),this.opts.inline||t||this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options unless you are planning to call openModal() method yourself","error"),this.startListeningToResize(),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.handleFileAdded),this.uppy.on("complete",this.handleComplete)},t.prototype.handleFileAdded=function(){this.hideAllPanels()},t.prototype.handleComplete=function(e){var t=e.failed;e.uploadID;this.opts.closeAfterFinish&&0===t.length&&this.requestCloseModal()},t.prototype.removeEvents=function(){var e=this,t=jt(this.opts.trigger);!this.opts.inline&&t&&t.forEach(function(t){return t.removeEventListener("click",e.openModal)}),this.stopListeningToResize(),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.handleFileAdded),this.uppy.off("complete",this.handleComplete)},t.prototype.toggleFileCard=function(e){this.setPluginState({fileCardFor:e||null,activeOverlayType:e?"FileCard":null})},t.prototype.toggleAddFilesPanel=function(e){this.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},t.prototype.render=function(e){var t,n,o,r=this,i=this.getPluginState(),s=e.files,a=e.capabilities,l=e.allowNewUpload,u=Object.keys(s).filter(function(e){return!s[e].progress.uploadStarted}),p=Object.keys(s).filter(function(e){return s[e].progress.uploadStarted}),c=Object.keys(s).filter(function(e){return s[e].isPaused}),d=Object.keys(s).filter(function(e){return s[e].progress.uploadComplete}),h=Object.keys(s).filter(function(e){return s[e].error}),f=Object.keys(s).filter(function(e){return!s[e].progress.uploadComplete&&s[e].progress.uploadStarted}),y=f.filter(function(e){return!s[e].isPaused}),m=Object.keys(s).filter(function(e){return s[e].progress.preprocess||s[e].progress.postprocess}),g=p.length>0,v=100===e.totalProgress&&d.length===Object.keys(s).length&&0===m.length,b=g&&h.length===p.length,w=0!==f.length&&c.length===f.length,P=function(e){var t=r.uppy.getPlugin(e.id);return qt({},e,{icon:t.icon||r.opts.defaultPickerIcon,render:t.render})},_=i.targets.filter(function(e){return"acquirer"===e.type&&function(e){var t=r.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()}(e)}).map(P),S=i.targets.filter(function(e){return"progressindicator"===e.type}).map(P);return t={state:e,isHidden:i.isHidden,files:s,newFiles:u,uploadStartedFiles:p,completeFiles:d,erroredFiles:h,inProgressFiles:f,inProgressNotPausedFiles:y,processingFiles:m,isUploadStarted:g,isAllComplete:v,isAllErrored:b,isAllPaused:w,totalFileCount:Object.keys(s).length,totalProgress:e.totalProgress,allowNewUpload:l,acquirers:_,activePickerPanel:i.activePickerPanel,animateOpenClose:this.opts.animateOpenClose,isClosing:i.isClosing,getPlugin:this.uppy.getPlugin,progressindicators:S,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,log:this.uppy.log,i18n:this.i18n,i18nArray:this.i18nArray,addFile:this.uppy.addFile,removeFile:this.uppy.removeFile,info:this.uppy.info,note:this.opts.note,metaFields:i.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,startUpload:function(e){r.uppy.upload().catch(function(e){r.uppy.log(e.stack||e.message||e)})},pauseUpload:this.uppy.pauseResume,retryUpload:this.uppy.retryUpload,cancelUpload:function(e){r.uppy.removeFile(e)},cancelAll:this.uppy.cancelAll,fileCardFor:i.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:i.showAddFilesPanel,saveFileCard:function(e,t){r.uppy.setFileMeta(t,e),r.toggleFileCard()},width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,currentWidth:i.containerWidth,isWide:i.containerWidth>400,containerWidth:i.containerWidth,areInsidesReadyToBeVisible:i.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,showSelectedFiles:this.opts.showSelectedFiles,isDraggingOver:i.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop},n=0===t.totalFileCount,o=le({"uppy-Root":t.isTargetDOMEl},"uppy-Dashboard",{"Uppy--isTouchDevice":"ontouchstart"in window||navigator.maxTouchPoints},{"uppy-Dashboard--animateOpenClose":t.animateOpenClose},{"uppy-Dashboard--isClosing":t.isClosing},{"uppy-Dashboard--isDraggingOver":t.isDraggingOver},{"uppy-Dashboard--modal":!t.inline},{"uppy-size--md":t.containerWidth>576},{"uppy-size--lg":t.containerWidth>700},{"uppy-size--xl":t.containerWidth>900},{"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel},{"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible}),Le("div",{class:o,"aria-hidden":t.inline?"false":t.isHidden,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onpaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop},Le("div",{class:"uppy-Dashboard-overlay",tabindex:-1,onclick:t.handleClickOutside}),Le("div",{class:"uppy-Dashboard-inner","aria-modal":!t.inline&&"true",role:!t.inline&&"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""}},t.inline?null:Le("button",{class:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onclick:t.closeModal},Le("span",{"aria-hidden":"true"},"×")),Le("div",{class:"uppy-Dashboard-innerWrap"},Le("div",{class:"uppy-Dashboard-dropFilesHereHint"},t.i18n("dropHint")),!n&&t.showSelectedFiles&&Le(xe,t),t.showSelectedFiles?Le(n?Se:me,t):Le(Se,t),Le(Be,null,t.showAddFilesPanel?Le(Oe,je({key:"AddFilesPanel"},t)):null),Le(Be,null,t.fileCardFor?Le(Re,je({key:"FileCard"},t)):null),Le(Be,null,t.activePickerPanel?Le(Ue,je({key:"PickerPanelContent"},t)):null),Le("div",{class:"uppy-Dashboard-progressindicators"},t.progressindicators.map(function(e){return t.getPlugin(e.id).render(t.state)})))))},t.prototype.discoverProviderPlugins=function(){var e=this;this.uppy.iteratePlugins(function(t){t&&!t.target&&t.opts&&t.opts.target===e.constructor&&e.addTarget(t)})},t.prototype.install=function(){var e=this;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1});var t=this.opts,n=t.inline,o=t.closeAfterFinish;if(n&&o)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");this.uppy.opts.allowMultipleUploads&&o&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploads` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var r=this.opts.target;r&&this.mount(r,this),(this.opts.plugins||[]).forEach(function(t){var n=e.uppy.getPlugin(t);n&&n.mount(e,n)}),this.opts.disableStatusBar||this.uppy.use(Ft,{id:this.id+":StatusBar",target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale}),this.opts.disableInformer||this.uppy.use(kt,{id:this.id+":Informer",target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(Rt,{id:this.id+":ThumbnailGenerator",thumbnailWidth:this.opts.thumbnailWidth}),this.discoverProviderPlugins(),this.initEvents()},t.prototype.uninstall=function(){var e=this;if(!this.opts.disableInformer){var t=this.uppy.getPlugin(this.id+":Informer");t&&this.uppy.removePlugin(t)}if(!this.opts.disableStatusBar){var n=this.uppy.getPlugin(this.id+":StatusBar");n&&this.uppy.removePlugin(n)}if(!this.opts.disableThumbnailGenerator){var o=this.uppy.getPlugin(this.id+":ThumbnailGenerator");o&&this.uppy.removePlugin(o)}(this.opts.plugins||[]).forEach(function(t){var n=e.uppy.getPlugin(t);n&&n.unmount()}),this.unmount(),this.removeEvents()},t}(Ht),$t=D(function(e,t){e.exports=function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var o,r=document.createElement("a"),i=1;i<e;i++)r.href=arguments[i],o=r.href,t.href=o;return n.removeChild(t),o}}),Qt=function(e){var t=0,n=[];return function(r){return function(){for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];var l=function(){t++;var e=r.apply(void 0,s);return e.then(o,o),e};return t>=e?new Promise(function(e,t){n.push(function(){l().then(e,t)})}):l()}};function o(){t--;var e=n.shift();e&&e()}};var Yt=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,"Authorization required"));return n.name="AuthError",n.isAuthError=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error),Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zt=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var en=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uppy=t,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this)}return e.prototype.headers=function(){return Promise.resolve(Jt({},this.defaultHeaders,this.opts.serverHeaders||{}))},e.prototype._getPostResponseFunc=function(e){var t=this;return function(n){return e?n:t.onReceiveResponse(n)}},e.prototype.onReceiveResponse=function(e){var t,n=this.uppy.getState().companion||{},o=this.opts.companionUrl,r=e.headers;r.has("i-am")&&r.get("i-am")!==n[o]&&this.uppy.setState({companion:Jt({},n,(t={},t[o]=r.get("i-am"),t))});return e},e.prototype._getUrl=function(e){return/^(https?:|)\/\//.test(e)?e:this.hostname+"/"+e},e.prototype._json=function(e){if(401===e.status)throw new Yt;if(e.status<200||e.status>300)throw new Error("Failed request to "+e.url+". "+e.statusText);return e.json()},e.prototype.get=function(e,t){var n=this;return new Promise(function(o,r){n.headers().then(function(i){fetch(n._getUrl(e),{method:"get",headers:i,credentials:"same-origin"}).then(n._getPostResponseFunc(t)).then(function(e){return n._json(e).then(o)}).catch(function(t){t=t.isAuthError?t:new Error("Could not get "+n._getUrl(e)+". "+t),r(t)})})})},e.prototype.post=function(e,t,n){var o=this;return new Promise(function(r,i){o.headers().then(function(s){fetch(o._getUrl(e),{method:"post",headers:s,credentials:"same-origin",body:JSON.stringify(t)}).then(o._getPostResponseFunc(n)).then(function(e){return o._json(e).then(r)}).catch(function(t){t=t.isAuthError?t:new Error("Could not post "+o._getUrl(e)+". "+t),i(t)})})})},e.prototype.delete=function(e,t,n){var o=this;return new Promise(function(r,i){o.headers().then(function(s){fetch(o.hostname+"/"+e,{method:"delete",headers:s,credentials:"same-origin",body:t?JSON.stringify(t):null}).then(o._getPostResponseFunc(n)).then(function(e){return o._json(e).then(r)}).catch(function(t){t=t.isAuthError?t:new Error("Could not delete "+o._getUrl(e)+". "+t),i(t)})})})},Zt(e,[{key:"hostname",get:function(){var e=this.uppy.getState().companion,t=this.opts.companionUrl;return(e&&e[t]?e[t]:t).replace(/\/$/,"")}},{key:"defaultHeaders",get:function(){return{Accept:"application/json","Content-Type":"application/json"}}}]),e}(),tn={setItem:function(e,t){return new Promise(function(n){localStorage.setItem(e,t),n()})},getItem:function(e){return Promise.resolve(localStorage.getItem(e))},removeItem:function(e){return new Promise(function(t){localStorage.removeItem(e),t()})}},nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var on=function(e){return e.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")};var rn={RequestClient:en,Provider:function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.provider=o.provider,r.id=r.provider,r.authProvider=o.authProvider||r.provider,r.name=r.opts.name||on(r.id),r.pluginId=r.opts.pluginId,r.tokenKey="companion-"+r.pluginId+"-auth-token",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.headers=function(){var t=this;return new Promise(function(n,o){e.prototype.headers.call(t).then(function(e){t.getAuthToken().then(function(t){n(nn({},e,{"uppy-auth-token":t}))})}).catch(o)})},t.prototype.onReceiveResponse=function(t){var n=401!==(t=e.prototype.onReceiveResponse.call(this,t)).status;return this.uppy.getPlugin(this.pluginId).setPluginState({authenticated:n}),t},t.prototype.setAuthToken=function(e){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,e)},t.prototype.getAuthToken=function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},t.prototype.authUrl=function(){return this.hostname+"/"+this.id+"/connect"},t.prototype.fileUrl=function(e){return this.hostname+"/"+this.id+"/get/"+e},t.prototype.list=function(e){return this.get(this.id+"/list/"+(e||""))},t.prototype.logout=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;return new Promise(function(n,o){e.get(e.id+"/logout?redirect="+t).then(function(t){e.uppy.getPlugin(e.pluginId).storage.removeItem(e.tokenKey).then(function(){return n(t)}).catch(o)}).catch(o)})},t.initPlugin=function(e,t,n){if(e.type="acquirer",e.files=[],n&&(e.opts=nn({},n,t)),t.serverUrl||t.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(t.companionAllowedHosts){var o=t.companionAllowedHosts;if(!("string"==typeof o||Array.isArray(o)||o instanceof RegExp))throw new TypeError(e.id+': the option "companionAllowedHosts" must be one of string, Array, RegExp');e.opts.companionAllowedHosts=o}else/^(?!https?:\/\/).*$/i.test(t.companionUrl)?e.opts.companionAllowedHosts="https://"+t.companionUrl.replace(/^\/\//,""):e.opts.companionAllowedHosts=t.companionUrl;e.storage=e.opts.storage||tn},t}(en),Socket:function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queued=[],this.isOpen=!1,this.socket=new WebSocket(t.target),this.emitter=o(),this.socket.onopen=function(e){for(n.isOpen=!0;n.queued.length>0&&n.isOpen;){var t=n.queued[0];n.send(t.action,t.payload),n.queued=n.queued.slice(1)}},this.socket.onclose=function(e){n.isOpen=!1},this._handleMessage=this._handleMessage.bind(this),this.socket.onmessage=this._handleMessage,this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this)}return e.prototype.close=function(){return this.socket.close()},e.prototype.send=function(e,t){this.isOpen?this.socket.send(JSON.stringify({action:e,payload:t})):this.queued.push({action:e,payload:t})},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.emit=function(e,t){this.emitter.emit(e,t)},e.prototype.once=function(e,t){this.emitter.once(e,t)},e.prototype._handleMessage=function(e){try{var t=JSON.parse(e.data);this.emit(t.action,t.payload)}catch(e){console.log(e)}},e}()};var sn=ot(function(e,t,n){var o=t.progress,r=t.bytesUploaded,i=t.bytesTotal;o&&(e.uppy.log("Upload progress: "+o),e.uppy.emit("upload-progress",n,{uploader:e,bytesUploaded:r,bytesTotal:i}))},300,{leading:!0,trailing:!0}),an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var ln=rn.Provider,un=rn.RequestClient,pn=rn.Socket;function cn(e,t){return t||(t=new Error("Upload error")),"string"==typeof t&&(t=new Error(t)),t instanceof Error||(t=an(new Error("Upload error"),{data:t})),t.request=e,t}var dn=function(e){function t(o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o,r));i.type="uploader",i.id="XHRUpload",i.title="XHRUpload",i.defaultLocale={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};var s={formData:!0,fieldName:"files[]",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:3e4,limit:0,withCredentials:!1,responseType:"",getResponseData:function(e,t){var n={};try{n=JSON.parse(e)}catch(e){console.log(e)}return n},getResponseError:function(e,t){return new Error("Upload error")},validateStatus:function(e,t,n){return e>=200&&e<300}};if(i.opts=an({},s,r),i.translator=new n([i.defaultLocale,i.uppy.locale,i.opts.locale]),i.i18n=i.translator.translate.bind(i.translator),i.i18nArray=i.translator.translateArray.bind(i.translator),i.handleUpload=i.handleUpload.bind(i),"number"==typeof i.opts.limit&&0!==i.opts.limit?i.limitUploads=Qt(i.opts.limit):i.limitUploads=function(e){return e},i.opts.bundle&&!i.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getOptions=function(e){var t=this.uppy.getState().xhrUpload,n=an({},this.opts,t||{},e.xhrUpload||{});return n.headers={},an(n.headers,this.opts.headers),t&&an(n.headers,t.headers),e.xhrUpload&&an(n.headers,e.xhrUpload.headers),n},t.prototype.createProgressTimeout=function(e,t){var n=this.uppy,o=this,r=!1;function i(){n.log("[XHRUpload] timed out");var r=new Error(o.i18n("timedOut",{seconds:Math.ceil(e/1e3)}));t(r)}var s=null;return{progress:function(){r||e>0&&(s&&clearTimeout(s),s=setTimeout(i,e))},done:function(){n.log("[XHRUpload] timer done"),s&&(clearTimeout(s),s=null),r=!0}}},t.prototype.createFormDataUpload=function(e,t){var n=new FormData;return(Array.isArray(t.metaFields)?t.metaFields:Object.keys(e.meta)).forEach(function(t){n.append(t,e.meta[t])}),e.name?n.append(t.fieldName,e.data,e.name):n.append(t.fieldName,e.data),n},t.prototype.createBareUpload=function(e,t){return e.data},t.prototype.upload=function(e,t,n){var o=this,r=this.getOptions(e);return this.uppy.log("uploading "+t+" of "+n),new Promise(function(t,n){var i=r.formData?o.createFormDataUpload(e,r):o.createBareUpload(e,r),s=o.createProgressTimeout(r.timeout,function(t){a.abort(),o.uppy.emit("upload-error",e,t),n(t)}),a=new XMLHttpRequest,l=w();a.upload.addEventListener("loadstart",function(e){o.uppy.log("[XHRUpload] "+l+" started")}),a.upload.addEventListener("progress",function(t){o.uppy.log("[XHRUpload] "+l+" progress: "+t.loaded+" / "+t.total),s.progress(),t.lengthComputable&&o.uppy.emit("upload-progress",e,{uploader:o,bytesUploaded:t.loaded,bytesTotal:t.total})}),a.addEventListener("load",function(i){if(o.uppy.log("[XHRUpload] "+l+" finished"),s.done(),r.validateStatus(i.target.status,a.responseText,a)){var u=r.getResponseData(a.responseText,a),p=u[r.responseUrlFieldName],c={status:i.target.status,body:u,uploadURL:p};return o.uppy.emit("upload-success",e,c),p&&o.uppy.log("Download "+e.name+" from "+p),t(e)}var d=r.getResponseData(a.responseText,a),h=cn(a,r.getResponseError(a.responseText,a)),f={status:i.target.status,body:d};return o.uppy.emit("upload-error",e,h,f),n(h)}),a.addEventListener("error",function(t){o.uppy.log("[XHRUpload] "+l+" errored"),s.done();var i=cn(a,r.getResponseError(a.responseText,a));return o.uppy.emit("upload-error",e,i),n(i)}),a.open(r.method.toUpperCase(),r.endpoint,!0),a.withCredentials=r.withCredentials,""!==r.responseType&&(a.responseType=r.responseType),Object.keys(r.headers).forEach(function(e){a.setRequestHeader(e,r.headers[e])}),a.send(i),o.uppy.on("file-removed",function(t){t.id===e.id&&(s.done(),a.abort(),n(new Error("File removed")))}),o.uppy.on("cancel-all",function(){s.done(),a.abort(),n(new Error("Upload cancelled"))})})},t.prototype.uploadRemote=function(e,t,n){var o=this,r=this.getOptions(e);return new Promise(function(t,n){var i={};(Array.isArray(r.metaFields)?r.metaFields:Object.keys(e.meta)).forEach(function(t){i[t]=e.meta[t]}),new(e.remote.providerOptions.provider?ln:un)(o.uppy,e.remote.providerOptions).post(e.remote.url,an({},e.remote.body,{endpoint:r.endpoint,size:e.data.size,fieldname:r.fieldName,metadata:i,headers:r.headers})).then(function(i){var s=i.token,a=function(e){var t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(e)[1];return(/^http:\/\//i.test(e)?"ws":"wss")+"://"+t}(e.remote.companionUrl),l=new pn({target:a+"/api/"+s});l.on("progress",function(t){return sn(o,t,e)}),l.on("success",function(n){var i=r.getResponseData(n.response.responseText,n.response),s=i[r.responseUrlFieldName],a={status:n.response.status,body:i,uploadURL:s};return o.uppy.emit("upload-success",e,a),l.close(),t()}),l.on("error",function(t){var i=t.response,s=i?r.getResponseError(i.responseText,i):an(new Error(t.error.message),{cause:t.error});o.uppy.emit("upload-error",e,s),n(s)})})})},t.prototype.uploadBundle=function(e){var t=this;return new Promise(function(n,o){var r=t.opts.endpoint,i=t.opts.method,s=new FormData;e.forEach(function(e,n){var o=t.getOptions(e);e.name?s.append(o.fieldName,e.data,e.name):s.append(o.fieldName,e.data)});var a=new XMLHttpRequest,l=t.createProgressTimeout(t.opts.timeout,function(e){a.abort(),u(e),o(e)}),u=function(n){e.forEach(function(e){t.uppy.emit("upload-error",e,n)})};a.upload.addEventListener("loadstart",function(e){t.uppy.log("[XHRUpload] started uploading bundle"),l.progress()}),a.upload.addEventListener("progress",function(n){l.progress(),n.lengthComputable&&e.forEach(function(e){t.uppy.emit("upload-progress",e,{uploader:t,bytesUploaded:n.loaded/n.total*e.size,bytesTotal:e.size})})}),a.addEventListener("load",function(r){if(l.done(),t.opts.validateStatus(r.target.status,a.responseText,a)){var i=t.opts.getResponseData(a.responseText,a),s={status:r.target.status,body:i};return e.forEach(function(e){t.uppy.emit("upload-success",e,s)}),n()}var p=t.opts.getResponseError(a.responseText,a)||new Error("Upload error");return p.request=a,u(p),o(p)}),a.addEventListener("error",function(e){l.done();var n=t.opts.getResponseError(a.responseText,a)||new Error("Upload error");return u(n),o(n)}),t.uppy.on("cancel-all",function(){l.done(),a.abort()}),a.open(i.toUpperCase(),r,!0),a.withCredentials=t.opts.withCredentials,""!==t.opts.responseType&&(a.responseType=t.opts.responseType),Object.keys(t.opts.headers).forEach(function(e){a.setRequestHeader(e,t.opts.headers[e])}),a.send(s),e.forEach(function(e){t.uppy.emit("upload-started",e)})})},t.prototype.uploadFiles=function(e){var t=this;return function(e){var t=[],n=[];function o(e){t.push(e)}function r(e){n.push(e)}return Promise.all(e.map(function(e){return e.then(o,r)})).then(function(){return{successful:t,failed:n}})}(e.map(function(n,o){var r=parseInt(o,10)+1,i=e.length;return n.error?function(){return Promise.reject(new Error(n.error))}:n.isRemote?(t.uppy.emit("upload-started",n),t.uploadRemote.bind(t,n,r,i)):(t.uppy.emit("upload-started",n),t.upload.bind(t,n,r,i))}).map(function(e){return t.limitUploads(e)()}))},t.prototype.handleUpload=function(e){var t=this;if(0===e.length)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.uppy.log("[XHRUpload] Uploading...");var n=e.map(function(e){return t.uppy.getFile(e)});return this.opts.bundle?this.uploadBundle(n):this.uploadFiles(n).then(function(){return null})},t.prototype.install=function(){if(this.opts.bundle){var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:an({},e,{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)},t.prototype.uninstall=function(){if(this.opts.bundle){var e=this.uppy.getState().capabilities;this.uppy.setState({capabilities:an({},e,{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)},t}(V.Plugin),hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var yn=rn.RequestClient;function mn(e){var t=e.headers?e.headers["content-type"]:e.getResponseHeader("Content-Type");return"string"==typeof t&&"application/xml"===t.toLowerCase()}function gn(e,t){var n=e.indexOf("<"+t+">"),o=e.indexOf("</"+t+">",n);return-1!==n&&-1!==o?e.slice(n+t.length+2,o):""}function vn(e){if(e&&e.error){var t=new Error(e.message);throw fn(t,e.error),t}return e}var bn=function(e){function t(o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o,r));i.type="uploader",i.id="AwsS3",i.title="AWS S3",i.defaultLocale={strings:{preparingUpload:"Preparing upload..."}};var s={timeout:3e4,limit:0,getUploadParameters:i.getUploadParameters.bind(i)};return i.opts=fn({},s,r),i.translator=new n([i.defaultLocale,i.uppy.locale,i.opts.locale]),i.i18n=i.translator.translate.bind(i.translator),i.i18nArray=i.translator.translateArray.bind(i.translator),i.client=new yn(o,r),i.prepareUpload=i.prepareUpload.bind(i),"number"==typeof i.opts.limit&&0!==i.opts.limit?i.limitRequests=Qt(i.opts.limit):i.limitRequests=function(e){return e},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUploadParameters=function(e){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var t=encodeURIComponent(e.meta.name),n=encodeURIComponent(e.meta.type);return this.client.get("s3/params?filename="+t+"&type="+n).then(vn)},t.prototype.validateParameters=function(e,t){if(!("object"===(void 0===t?"undefined":hn(t))&&t&&"string"==typeof t.url&&("object"===hn(t.fields)||null==t.fields)&&(null==t.method||/^(put|post)$/i.test(t.method)))){var n=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '"+e.name+"', expected an object '{ url, method, fields, headers }'.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.");throw console.error(n),n}return t},t.prototype.prepareUpload=function(e){var t=this;e.forEach(function(e){var n=t.uppy.getFile(e);t.uppy.emit("preprocess-progress",n,{mode:"determinate",message:t.i18n("preparingUpload"),value:0})});var n=this.limitRequests(this.opts.getUploadParameters);return Promise.all(e.map(function(e){var o=t.uppy.getFile(e);return Promise.resolve().then(function(){return n(o)}).then(function(e){return t.validateParameters(o,e)}).then(function(e){return t.uppy.emit("preprocess-progress",o,{mode:"determinate",message:t.i18n("preparingUpload"),value:1}),e}).catch(function(e){t.uppy.emit("upload-error",o,e)})})).then(function(n){var o={};e.forEach(function(e,r){var i=t.uppy.getFile(e);if(i&&!i.error){var s=n[r],a=s.method,l=void 0===a?"post":a,u=s.url,p=s.fields,c=s.headers,d={method:l,formData:"post"===l.toLowerCase(),endpoint:u,metaFields:Object.keys(p)};c&&(d.headers=c);var h=fn({},i,{meta:fn({},i.meta,p),xhrUpload:d});o[e]=h}}),t.uppy.setState({files:fn({},t.uppy.getState().files,o)}),e.forEach(function(e){var n=t.uppy.getFile(e);t.uppy.emit("preprocess-complete",n)})})},t.prototype.install=function(){var e=this.uppy.log;this.uppy.addPreProcessor(this.prepareUpload);var t=!1;this.uppy.use(dn,{fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,limit:this.opts.limit,responseType:"text",getResponseData:function(n,o){return mn(o)?{location:$t(o.responseURL,gn(n,"Location")),bucket:gn(n,"Bucket"),key:gn(n,"Key"),etag:gn(n,"ETag")}:"POST"===this.method.toUpperCase()?(t||(e("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),t=!0),{location:null}):o.responseURL?{location:o.responseURL.replace(/\?.*$/,"")}:{location:null}},getResponseError:function(e,t){if(mn(t)){var n=gn(e,"Message");return new Error(n)}}})},t.prototype.uninstall=function(){var e=this.uppy.getPlugin("XHRUpload");this.uppy.removePlugin(e),this.uppy.removePreProcessor(this.prepareUpload)},t}(V.Plugin),wn=V({debug:!0,autoProceed:!0,restrictions:{maxFileSize:1e6,minNumberOfFiles:1,allowedFileTypes:["image/*"]},showProgressDetails:!0,note:"Images only, 2–3 files, up to 1 MB"});wn.use(Kt,{inline:!0,target:"#drag-drop-area",metaFields:["name","key"],width:"100%",height:"100%",browserBackButtonClose:!1}),wn.use(bn,{getUploadParameters:e=>(console.log(e),fetch("/sign",{method:"post",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify({filename:e.name,contentType:e.type,size:e.size})}).then(e=>e.json()).then(t=>(e.meta.bucket=t.bucket,e.meta.key=t.key,{method:t.method,url:t.url,fields:t.fields})))}),wn.on("upload-success",(e,t)=>{console.log("upload success"),console.log("file:",e),console.log("data:",t)}),wn.on("complete",e=>{console.log(e),document.getElementById("FileName").value=e.successful[0].name,document.getElementById("FilePath").value=e.successful[0].uploadURL,document.getElementById("FileSize").value=e.successful[0].size,document.getElementById("FileExtension").value=e.successful[0].extension,document.getElementById("FileKey").value=e.successful[0].meta.key,document.getElementById("FileBucket").value=e.successful[0].meta.bucket})}();
